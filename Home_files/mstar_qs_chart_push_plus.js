var gData={};var gIdMap={};var tickerMap={};if(typeof(push)=="undefined"){push={}}if(typeof(push.subSeparator)=="undefined"){push.subSeparator="_"}if(typeof(pull)=="undefined"){pull={}}if(typeof(pull.subSeparator)=="undefined"){pull.subSeparator="_"}if(typeof(PULL_Path)=="undefined"){PULL_Path="/pullservice/pull/"}if(typeof QS_DataType=="undefined"){var QS_DataType="delay"}var DATA_TYPES=["delay","mix","fast","slow","slower","slowest"];var PULL_DATA_RATE={fast:5,slow:10,slower:15,slowest:30};if($.inArray(QS_DataType,DATA_TYPES)==-1){QS_DataType="mix"}var formatQuoteTime=(function(){var a=new Date();var b=new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime();return function(e){var f=b+parseInt(e)*1000;var c=new Date(f);return(c==null)?"--":c.toLocaleTimeString()}})();function formatDateString(a){var b=[];b.push(a.slice(0,4)),b.push(a.slice(4,6)),b.push(a.slice(6,8));return b.join("-")}function formatNameString(c){if(typeof c=="undefined"||c==""||c==null){return""}var b=c.split(" ");var h=[];for(var f=0,g=b.length;f<g;f++){var a=[],n=false;for(var k=0,m=b[f].length;k<m;k++){var e=b[f].substring(k,k+1);if(!n&&isNaN(e)){a.push(e.toUpperCase());n=true}else{a.push(e.toLowerCase())}}h.push(a.join(""))}return h.join(" ")}function formatDate(c,b){if(arguments.length<2&&!c.getTime){b=c;c=new Date()}typeof b!="string"&&(b="YYYY-MM-DD");var a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];return b.replace(/YYYY|YY|MM|DD|hh|mm|ss|WW|ww/g,function(e){switch(e){case"YYYY":return c.getFullYear();case"YY":return(c.getFullYear()+"").slice(2);case"MM":return c.getMonth()<9?"0"+(c.getMonth()+1):(c.getMonth()+1);case"DD":return c.getDate()<10?("0"+c.getDate()):c.getDate();case"hh":return c.getHours();case"mm":return c.getMinutes();case"ss":return c.getSeconds();case"WW":return a[c.getDay()];case"ww":return a[c.getDay()].slice(0,3)}})}function formatDoubledata(e,h,g,i,b,a){var f="",c="";if(String(e).trim().length==0){return c}if(typeof g=="undefined"){switch(h){case"20":f=5;break;case"1":f=2;break;case"10":f=2;break;default:f=2}}else{f=g}if(i&&typeof QS_NumFmt!="undefined"&&typeof QS_NumFmt.Fmt2=="function"){c=QS_NumFmt.Fmt2(e,b||false,a||"",f,i||false)}else{c=parseFloat(e).toFixed(f)}return c}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")};String.format=function(c){if(typeof(c)!="string"){return""}if(arguments.length<=1){return c}var a=arguments.length-2;for(var b=0;b<=a;b++){c=c.replace(new RegExp("\\{"+b+"\\}","gi"),arguments[b+1])}return c};var d=new Date();var startTick=new Date(d.getFullYear(),d.getMonth(),d.getDate()).getTime();function FDate(b){var c=startTick+parseInt(b)*1000;var a=new Date(c);return(a==null)?"--":DTFormat.ToShortTime(a)}function Hash(){var a=0;var c=new Array();for(var b=0;b<arguments.length;b+=2){if(typeof(arguments[b+1])!="undefined"){c[arguments[b]]=arguments[b+1];a++}}this.Get=function(e){if(typeof(c[e])=="undefined"){return e}return c[e]}}function MDTFormat(){this.Culture="EN-US";this.Mo=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""];this.Wd=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function c(f){if(f<10){f="0"+f}return f}function e(f){if(f<12){return"AM"}return"PM"}function b(f){if(f>12){f=f-12}if(f==0){return 12}return(f>=10?f:("0"+f))}this.ToMonthDate=function(f){return(this.Mo[f.getMonth()]+" "+c(f.getDate()))};this.StrMonthDate="MMM dd";this.ToShortTime=function(f){return(b(f.getHours())+":"+c(f.getMinutes())+" "+e(f.getHours()))};this.StrShortTime="h:mm tt";this.ToYearMonth=function(f){return(this.Mo[f.getMonth()]+" "+f.getFullYear())};this.StrYearMonth="MMM, yyyy";this.ToShortYearMonth=function(f){return(this.Mo[f.getMonth()]+" '"+(""+f.getFullYear()).substr(2,2))};this.StrShortYearMonth="MMM, '''yy";this.ToShortDate=function(f){return((f.getMonth()+1)+"/"+f.getDate()+"/"+f.getFullYear())};this.StrShortDate="M/d/yyyy";this.ToLongDate=function(f){return(c(f.getMonth()+1)+"/"+c(f.getDate())+"/"+f.getFullYear())};this.StrLongDate="MM/dd/yyyy";this.To24HrTime=function(f){return(c(f.getHours())+":"+c(f.getMinutes()))};this.Str24HrTime="HH:mm";this.To12HrTime=function(f){return(b(f.getHours())+":"+c(f.getMinutes())+" "+e(f.getHours()))};this.Str12HrTime="h:mm tt";this.ToWeekDay=function(f){return(this.Wd[f.getDay()])};this.StrWeekDay="ddd";var a=new Hash("EET","EET","EDT","EDT","EST","EST","GMT","GMT","BST","BST","CET","CET","CDT","CDT","CHN","CHN","CST","CST","IST","IST","JST","JST","SGT","SGT","EEST","EEST","AEDT","AEDT","AEST","AEST","CEST","CEST");this.Timezone=function(f){return a.Get(f)}}var DTFormat=new MDTFormat();var RegionFmt=new Hash("ESP","Spain","FIN","Finland","FRA","France","AUS","Australia","AUT","Austria","DEU","Germany","DNK","Denmark","GBL","---","GBR","United Kindom","GRC","Greece","BEL","Belguim","BRA","Brazil","MEX","Mexico","CAN","Canada","CHN","China (Mainland)","CHE","Switzerland","NLD","Netherland","NOR","Norway","IND","India","ITA","Italy","IRL","Ireland","ISR","Israel","ISL","Iceland","LUX","Luxembourg","JPN","Japan","USA","United States","HKG","Hong Kong","KOR","Korea","KWT","Kuwait","TWN","Taiwan","RUS","Russia","PRT","Portugal","SWE","Sweden","SGP","Singapore");var ExchFmt=new Hash("ASE","AMEX","NAS","NASDAQ","TSE","TSE","TSX","TSX","NYSE","NYSE","IXUK","UK Indices","IXUS","US Indices","IXDS","Europe Indices","IXJP","Japan Indices","PINX","Nasdaq OTC","XTSX","TSX","XTSE","TSE","XPAR","Euronext Paris","XVTX","Virt-X","XMIL","Milan","XLIS","Euronext Lisbon","XLON","LSE","XSHG","Shanghai SE","XSHE","Shenzhen SE","XSIM","Singapore","XSES","Singapore","XSWX","SWX","XHKG","Hong Kong","XOTC","OTCBB","XNYS","NYSE","XNAS","Nasdaq","XETR","Xetra","XASE","AMEX","XASX","Australian SE","XAMS","Euronext Amsterdam","XFRA","Frankfurt","XBOM","Bombay","XBRU","Euronext Brussels");if(typeof(GOLBAL_DATA)=="undefined"){GOLBAL_DATA={}}if(typeof(gExchangeMap)=="undefined"){gExchangeMap={"35":"","33":"S&P Index","159":"","158":"","156":"","155":"","154":"","152":"LSE","151":"LSE","41":"","40":"","202":"Amsterdam","203":"","205":"","200":"Frankfurt","201":"","22":"OOTC","23":"","169":"","24":"Philly","25":"OTCBB","206":"","26":"NSX","207":"Brussels","27":"","28":"","168":"","209":"","167":"","29":"NASDAQ Index","3":"CBOE","161":"","2":"Boston","1":"AMEX","30":"Dow Jones Index","7":"-1","5":"","4":"","160":"Paris","9":"","8":"EDGA","211":"Amsterdam Index","212":"Athens","210":"","215":"","216":"","213":"XETRA","19":"NASDAQ","214":"","219":"","17":"BATS","178":"","18":"ADF","217":"","177":"","15":"ISE","218":"","176":"Helsinki","16":"NYSE Arca","13":"Chicago","14":"NYSE","11":"","12":"EDGX","21":"","170":"Stockholm","20":"CTS OTC","171":"","174":"Oslo","175":"","172":"Copenhagen","173":"","220":"","221":"XSTX","223":"Milan","390":"XBOG","225":"","226":"","227":"","228":"","90":"","499":"cq","229":"","181":"EUREX SWISS","10":"","182":"Swiss","185":"VIRT-X","186":"","398":"XLIM","88":"","89":"","79":"","78":"","77":"CME","240":"NA","241":"","195":"Lisbon","194":"Vienna","197":"-1","196":"","190":"Dublin","193":"Johannesburg","192":"","198":"Madrid Index","199":"Madrid","245":"NA","244":"","243":"","80":"","242":"","81":"","249":"","86":"","248":"","87":"","247":"","84":"","246":"","85":"","67":"NYMEX","66":"COMEX","126":"USCOMP","69":"","127":"Toronto","68":"","128":"Montreal","230":"Moscow","129":"","239":"","232":"","231":"","234":"","233":"","236":"","73":"","235":"","238":"XBSP","75":"","237":"XBUE","76":"ICE","134":"HongKong","135":"","132":"Osaka","133":"Tokyo","138":"","139":"Mumbai","136":"Shanghai","137":"Shenzhen","64":"CBOT","131":"","130":"","143":"Singapore","250":"","144":"Taiwan","145":"","146":"Australia","147":"","148":"","149":"","140":"","142":"","50":"","141":"Korea"}}if(typeof(gExchangeMarketTimeMap)=="undefined"){gExchangeMarketTimeMap={"33":[0,1440],"159":[480,1320],"155":[0,1440],"152":[450,1020],"151":[480,990],"41":[0,1440],"202":[540,1050],"203":[480,1320],"204":[0,1440],"200":[0,1440],"22":[570,960],"23":[0,1440],"25":[570,960],"26":[570,960],"207":[540,1050],"208":[540,1080],"209":[540,1055],"29":[0,1440],"3":[560,1020],"161":[480,1320],"2":[560,1020],"1":[570,960],"30":[0,1440],"7":[0,1440],"4":[480,1035],"160":[540,1050],"9":[0,1440],"211":[0,1440],"212":[0,1440],"19":[560,1020],"213":[540,1200],"17":[0,1440],"18":[570,960],"178":[540,1050],"15":[570,960],"177":[0,1440],"16":[570,960],"176":[540,1050],"13":[570,960],"14":[0,1440],"11":[0,1440],"21":[960,1200],"170":[540,1050],"20":[570,960],"171":[0,1440],"174":[540,1040],"175":[0,1440],"172":[540,1020],"173":[0,1440],"221":[0,1440],"390":[540,960],"223":[540,1050],"225":[480,990],"228":[600,1005],"499":[3,4],"181":[540,1050],"182":[540,1050],"185":[540,1050],"398":[570,810],"77":[0,1440],"240":[0,1440],"195":[540,1050],"194":[535,1055],"197":[540,1050],"196":[480,1000],"190":[470,990],"193":[0,1440],"198":[0,1440],"199":[540,1050],"245":[0,1440],"80":[0,1440],"243":[0,1440],"84":[0,1440],"67":[0,1440],"66":[0,1440],"126":[570,960],"69":[0,1440],"127":[570,960],"128":[0,1440],"68":[0,1440],"230":[600,1125],"129":[0,1440],"239":[615,1040],"233":[540,1050],"73":[0,1440],"238":[660,1080],"75":[0,1440],"237":[660,1020],"76":[0,1440],"134":[570,960],"135":[540,1020],"132":[540,910],"133":[540,900],"138":[555,930],"139":[0,1440],"136":[570,900],"137":[570,900],"64":[0,1440],"143":[540,1020],"144":[540,810],"145":[600,990],"146":[0,1440],"147":[0,1440],"142":[0,1440],"141":[540,900],"50":[540,960]}}if(typeof(gMICExangeMap)=="undefined"){gMICExangeMap={ARCX:"NYSE Arca",XTKS:"Tokyo",ICUS:"ICE",XCBO:"CBOE",EDGA:"EDGA",XCBT:"CBOT",XSHG:"Shanghai",XSWX:"EUREX SWISS",XSHE:"Shenzhen",XNAS:"NASDAQ",XFRA:"Frankfurt",XLIM:"XLIM",XMIL:"Milan",XTSE:"Toronto",XLIS:"Lisbon",BATS:"BATS",XASX:"Australia",XSTO:"Stockholm",XADF:"ADF",XCSE:"Copenhagen",XMAD:"Madrid Index",XCME:"CME",XSTX:"XSTX",XPAR:"Paris",XATH:"Athens",XCEC:"COMEX",XCIS:"NSX",RTSX:"Moscow",XJSE:"Johannesburg",NA:"NA",XBRU:"Brussels",cqm:"cq",OOTC:"OOTC",XNYS:"NYSE",XOTC:"OTCBB",XHKG:"HongKong",IXUS:"S&P Index",XASE:"AMEX",XCHI:"Chicago",XKRX:"Korea",XBSP:"XBSP",XBOS:"Boston",XWBO:"Vienna",XTAI:"Taiwan",XISE:"ISE",XBOM:"Mumbai",XMOD:"Montreal",XSES:"Singapore",XBOG:"XBOG",XLON:"LSE",XNYM:"NYMEX",EDGX:"EDGX",XETR:"XETRA",XOSE:"Osaka",XBUE:"XBUE",XOSL:"Oslo",XDUB:"Dublin",XPHL:"Philly",XAMS:"Amsterdam Index",XHEL:"Helsinki"}}var QS_PROTOCOL=document.location.protocol+"//";if(typeof(versions)=="undefined"){versions={dev:{rtq:"../",domain:QS_PROTOCOL+"rtqdev.morningstar.com/opt/",push:QS_PROTOCOL+"pushdev.morningstar.com"},pre:{rtq:"../",domain:QS_PROTOCOL+"qspre.morningstar.com/",push:QS_PROTOCOL+"pushpre.morningstar.com"},staging:{rtq:"../",domain:QS_PROTOCOL+"qsstage.morningstar.com/",push:QS_PROTOCOL+"push.morningstar.com"},release:{rtq:"../",domain:QS_PROTOCOL+"quotespeed.morningstar.com/",push:QS_PROTOCOL+"push.morningstar.com"},mlwm:{rtq:"../",domain:QS_PROTOCOL+"qsapi.ml.com/opt/",push:QS_PROTOCOL+"qspush.ml.com"}}}if(document.location.href.indexOf("rtqdev.morningstar.com")>-1&&typeof QS_VERSION=="undefined"){QS_VERSION="dev"}if(typeof QS_SERVER_DOMAIN!="undefined"&&typeof QS_PUSH_DOMAIN!="undefined"){version={rtq:QS_PROTOCOL+QS_SERVER_DOMAIN,domain:QS_PROTOCOL+QS_SERVER_DOMAIN,push:QS_PROTOCOL+QS_PUSH_DOMAIN}}else{if(typeof(QS_VERSION)=="undefined"){version=versions.release}else{version=versions[QS_VERSION]}}var qs_server=QS_PROTOCOL+"qt.morningstar.com/switchservice/qtswitch.ashx?symbol=";var getTickerUrl=version.domain+"getids.jsp?symbol=";var getStaticDataURL=version.domain+"getStaticData.jsp";var getStaticDataXMLURL=version.domain+"getStaticDataFromXML.jsp";var region="USA";var ShortMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var getPullURL=version.domain+"getPullQuote.jsp?t=";if(!QS_Style){var QS_Style={redFontColor:"#ff0000",redFontBG:"#FFC8C8",greenFontColor:"#008000",greenFontBG:"#CDFFD7",normalFontBG:"#ccc",layouthelperBG:"#fff",redFlashFontColor:"#ff0000",greenFlashFontColor:"#008000",normalFlashFontColor:"#121212",chart:{tickerColors:["#728fb2","#9b0033","#e96610","#f1ad02","#9faa00","#006065","#809aba","#e1b2c1","#e2e5b2","#293f6f","#fbe6b3","#f2a370","#b2cfd0","#bec5d4","#c5cc66","#f8d1b7","#c36685","#c9cbcb"],fillColors:{pChart:"#c9d2dd",vChart:"#2f4880",sChart:"#d9dfeb",minichartPchart:"#004DBC"}},flot:{grid:{color:"#545454",tickColor:"#dddddd"},alpha:0.7}}}function flashWithDirectional(a,b,e,f){if(!b||!e){a.style.cssText="background-color:"+QS_Style.normalFontBG+";color:"+(f?QS_Style.greenFlashFontColor:QS_Style.redFlashFontColor)}else{a.style.cssText="background-color:"+((b>e)?QS_Style.greenFontBG:QS_Style.redFontBG)+";color:"+(f?QS_Style.greenFlashFontColor:QS_Style.redFlashFontColor)}setTimeout(function(){a.style.cssText="background-color:;color:"+(f?QS_Style.greenFontColor:QS_Style.redFontColor)},300)}function flash(a,b,e){if(!b||!e){a.style.cssText="background-color:"+QS_Style.normalFontBG+";color:"+QS_Style.normalFlashFontColor}else{a.style.cssText="background-color:"+((b>e)?QS_Style.greenFontBG:QS_Style.redFontBG)+";color:"+QS_Style.normalFlashFontColor}setTimeout(function(){a.style.cssText="background-color:;color:;"},300)}function checkTickerInfo(h,a){if(h==""){return false}if(h.length>1000){var e=h.split(",");var b=[];var k=100;var j=Math.ceil(e.length/k);var l=0;var g=[];for(var f=0;f<j;f++){b.push(e.slice(k*f,k*(f+1)).join(","));$.getJSON(getTickerUrl+b[f]+"&cb=?",function(c){l++;g=g.concat(c.Records);if(l>=j){a({Records:g})}})}}else{$.getJSON(getTickerUrl+h+"&cb=?",a)}}var xmlDataPoint=["D437","S8","S12","S19","S36","S214","S555","S676","S695","S696","S697","S698","S700","S702","S703","S704","S705","S706","S707","S708","S709","S710","S711","S712","S713","S714","S715","S716","S717","S718","S719","S1011","S1013","S1018","S1041","S1042","S1043","S1076","S1077","S1086","S1087","S1088","S1315",""];function getStaticDataFromXML(b,a){if(b==null||!b.length){return}$.post(getStaticDataXMLURL,{t:b},function(h){h=$.evalJSON(h);if(!h||!h.data||h.data.length<1){a(h)}else{var n=h.data,f,e,c,m;for(var g=0,j=n.length;g<j;g++){c=n[g]["inst"].split(".");e=c[0]+":"+c[2];if(!gData[e]){gData[e]={}}m=gData[e];for(var f in n[g]){if($.inArray(f,xmlDataPoint)<0){continue}if(f=="S1077"){m.st198=n[g][f]}else{if(f=="S1086"){m.pm032=n[g][f]}else{if(f=="S1087"){m.sta65=n[g][f]}else{m[f]=n[g][f]}}}}m.hasStaticDataFromXML=true}a(h)}})}var LA03Z={"$VAL_UMKNOWN$":"Not Classified","101":"Basic Materials","308":"Communication Services","102":"Consumer Cyclical","205":"Consumer Defensive","309":"Energy","103":"Financial Services","206":"Healthcare","310":"Industrials","104":"Real Estate","311":"Technology","207":"Utilities"};function getTenforeInfo(a){if(a.tenforeCode.indexOf(mockExchangeCode)>-1){return a.secId||a.performanceId}else{return a.tenforeCode+"."+a.type+"."+a.tenforeTicker}}function getStaticData(c,a){if(c==null||!c.length){return}var h=[],f,e={};for(var b=0;b<c.length;b++){if(typeof(c[b])=="undefined"||c[b]==""){continue}gkey=gIdMap[c[b]];if(typeof gkey=="undefined"||(gData[gkey]&&gData[gkey]["hasStaticData"])){continue}f=gData[gkey]["secId"]||c[b];if(!e[f]){h.push(f);e[f]=true}}if(h.length==0){a(false);return}var g=h.length>=50?$.post:$.get;g(getStaticDataURL,{secId:h.join(",")},function(n){n=$.evalJSON(n);if(!n||!n.data||n.data.length<1){a(n);return}else{var l=n.data,p,q,r;for(var m=0;m<l.length;m++){p=l[m].secId;if(!gIdMap[p]){continue}if(!gData[gIdMap[p]]){gData[gIdMap[p]]={}}q=gData[gIdMap[p]];r=q.tenforeCode;for(var k in l[m]){if(k=="pd001"||k=="pd003"||k=="pd005"||k=="pd007"||k=="pd009"||k=="pd00b"||k=="pd00d"||k=="pd00f"||k=="pd00h"||k=="pd014"||k=="pm493"||k=="pm494"||k=="pm495"){q[k]=isNaN(l[m][k])?"":parseFloat(l[m][k]).toFixed(2)}else{q[k]=l[m][k]}}if(q.rr01y){q.st200=q.rr01y}if(q.mType!="FE"&&q.mType!="FC"){if(q.os70c){q.st168=q.os70c}if(q.os70e){q.st169=q.os70e}if(q.os70d){q.st109=q.os70d}if(q.os70f){q.st106=q.os70f}}if(q.la03z){q.la03z=LA03Z[q.la03z]||""}if(q.os378){q.os378=ShortMonths[q.os378-1]||""}if(r=="27"){q.LastPrice=q.os065==""?"":parseFloat(q.os065);q["Chg%"]=q.pd003==""?"":parseFloat(q.pd003);q.Chg=(q.LastPrice!=""&&q["Chg%"]!="")?q.LastPrice*q["Chg%"]/100:""}q.hasStaticData=true}a(n)}})}function getRtMapValue(a){if(!rtmap[a]||rtmap[a]=="D"){return"D"}return"R"}function toStockTypeCode(a,c,b){if(typeof(b)!="undefined"&&!isNaN(b)){return b}if(a==null){return 1}var e=a.toUpperCase();if(e=="ST"){return"1"}else{if(e=="XI"){return 10}else{if(e=="FE"||e=="FC"){return"1"}else{if(e=="FO"){return"8"}else{return"1"}}}}}function mapTickerName(a,b){tickerMap[a]=b}function isCompositiveExch(b,a){b=typeof b=="string"?parseInt(b,10):b;return(a==1||a==10||a==8||a==2)&&b<=126&&$.inArray(b,[41,11,9,30,29,33,22,25,56,10,50])<0};function v447e6h(){if(navigator.userAgent&&navigator.userAgent.indexOf("WebKit")!=-1){return"WebKit"}else{if(navigator.userAgent&&navigator.userAgent.indexOf("MSIE")!=-1){return"IE"}else{if(navigator.userAgent&&navigator.userAgent.indexOf("Gecko")!=-1){return"WebKit"}else{if(window.opera){return"WebKit"}else{return"unknown"}}}}}function vm195qe(){vm195qe.prototype.OPERATION_OK=0;vm195qe.prototype.OPERATION_ERROR=1;vm195qe.prototype.STREAMING_ERROR=2;vm195qe.prototype.MESSAGE_RECEIVED=3;vm195qe.prototype.NOTIFICATION=4;vm195qe.prototype.ERROR_CONNECTED=5;vm195qe.prototype.ERROR_NOT_CONNECTED=6;vm195qe.prototype.ERROR_TIMEOUT=7;vm195qe.prototype.ERROR_HTTP=8;vm195qe.prototype.ERROR_SERVER=9;vm195qe.prototype.ERROR_DOMAIN=10;vm195qe.prototype.ERROR_SERVER_DOWN=11;vm195qe.prototype.MARKET_PRICE_UPDATE=12;vm195qe.prototype.STATUS_UPDATE=13;vm195qe.prototype.ENTITLEMENT_LOGGED_OUT=14;vm195qe.prototype.ENTITLEMENT_CHECK_FAILURE=15;vm195qe.prototype.NOTIFY_SERVER_DOWN=16;vm195qe.prototype.NOTIFY_SERVER_UP=17;vm195qe.prototype.getBrowser=function(){return cqod57m};vm195qe.prototype.connect=function(f,b,c,e){j1xu660(i13l33a,f,c,e);try{var g=new Object();initPe(g);pes.push(g);var a=new Object();a.ck4400w=i13l33a;a.e4i37c2=f;a.x9m0vx2=b;a.l1k9i9r=c;a.fz464zt=e;a.pe=g;aoh1tmp(a);return g}catch(d){throw d}};vm195qe.prototype.connectEntitlement=function(a,i,g,e,b,j,c){j1xu660(w3lw3b3,a,g,c);if(!e){throw j7c51l9(w3lw3b3)+": The entitlementUser is null"}if(!b){throw j7c51l9(w3lw3b3)+": The entitlementApplicationName is null"}if(!j){throw j7c51l9(w3lw3b3)+": The entitlementLocation is null"}try{var f=new Object();initPe(f);pes.push(f);var d=new Object();d.ck4400w=w3lw3b3;d.e4i37c2=a;d.x9m0vx2=i;d.l1k9i9r=g;d.u346q0q=e;d.qls3y04=b;d.c413p4z=j;d.fz464zt=c;d.pe=f;aoh1tmp(d);return f}catch(h){throw h}}}function sirfxs4(){if(cqod57m=="unknown"){throw"Browser not supported"}if(!document.body){throw"The document doesn't have a body"}}function j1xu660(a,b,c,d){if(c&&c.indexOf("http://")!=0&&c.indexOf("https://")!=0){throw j7c51l9(a)+': The host format is incorrect, the host should start with "http://" or "https://"'}w2ie4k0(a,b,"handler");w2ie4k0(a,d,"updateHandler")}function w2ie4k0(b,a,c){if(!a){throw j7c51l9(b)+": The "+c+" is null"}if(typeof(a)!="function"){throw j7c51l9(b)+": The "+c+" is not a function"}}function sq258r3(b,a,c){w2ie4k0(b,a,"handler");if(c.length<3||c.length%3!=0){throw j7c51l9(b)+": Invalid arguments"}}function ddw35r6(b,a,c){w2ie4k0(b,a,"handler");if(c.length<1){throw j7c51l9(b)+": Invalid arguments"}}function h15s138(){if(owt3wut.length==0){return}owt3wut.shift();m2hd9fe=null;b61qha3()}function aoh1tmp(a){sirfxs4();if(a.pe.amwzw6d){a.e4i37c2(a.x9m0vx2,jslib.OPERATION_ERROR,jslib.ERROR_SERVER_DOWN,null);return}flhsrk2(a)}function flhsrk2(a){owt3wut.push(a);gf66s05()}function b61qha3(){setTimeout(function(){try{gf66s05()}catch(a){throw a}},0)}function gf66s05(){if(m2hd9fe!=null||owt3wut.length==0){return}m2hd9fe=owt3wut[0];switch(m2hd9fe.ck4400w){case i13l33a:case w3lw3b3:p81h38w();break;case dpi8e6m:case xpz41dq:case cv0gbk5:case dfl6cp3:case y541w5d:case jauq25t:case mbgh8bd:case zt66v49:y841s3r();break;case m5ck61o:s63m7v2(peN(m2hd9fe.pe));break}}function j7c51l9(a){switch(a){case i13l33a:return"connect";case w3lw3b3:return"connectEntitlement";case wlqi666:return"disconnect";case dpi8e6m:return"subscribe";case xpz41dq:return"unsubscribe";case cv0gbk5:return"addFields";case dfl6cp3:return"removeFields";case y541w5d:return"selectAllFields";case jauq25t:return"getNewsHeadlines";case mbgh8bd:return"getNewsStory";case zt66v49:return"stopNewsHeadlines"}return"unknownOperation"}function csatn9c(b,a){var d=new Array();for(var c=a;c<b.length;c++){d.push(b[c])}return d}function iff2532(k,f){var h=pes[f];var b=window.location.protocol;var c=window.location.host;var d=window.location.port;if(k.indexOf(b)!=0){return false}var g=k.indexOf(":",b.length);if((g==-1&&d.length>0)||(g!=-1&&d.length==0)){return false}if(g!=-1){var j=k.indexOf("/",g+1);if(j==-1){j=k.length}if(k.substring(g+1,j)!=d){return false}}if(k.indexOf("//",b.length)!=b.length){return false}g=k.indexOf("/",b.length+2);if(g==-1){g=k.length}k=k.substring(b.length+2,g);if(k.length<4){return false}var i=-1;g=k.length-1;var j=c.length-1;for(;g>=0&&j>=0;g--,j--){if(k.charAt(g)!=c.charAt(j)){i=g;break}}var e=-1;if(i==-1){i=g;if(g==j||(g>=0&&k.charAt(g)==".")||(j>=0&&c.charAt(j)==".")){e=i+1}}if(e==-1){e=k.indexOf(".",i+1);if(e==-1){return false}e++}if(k.indexOf(".",e)==-1){return false}if(!c3e8559){var a=c.split(".");c3e8559=a[a.length-2]+"."+a[a.length-1]}h.l1k9i9r=b+"//"+k;return true}function m31a20o(){var b=(m2hd9fe.pe.l1k9i9r?m2hd9fe.pe.l1k9i9r:"")+b03m38s;if(c3e8559==null){m2hd9fe.pe.x689n4i=new XMLHttpRequest()}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.m2hd9fe.pe.x689n4i = new XMLHttpRequest();")}m2hd9fe.pe.x689n4i.multipart=true;var a=peN(m2hd9fe.pe);m2hd9fe.pe.x689n4i.onreadystatechange=function(){b2wnguf(a)};if(c3e8559==null){m2hd9fe.pe.x689n4i.open("POST",b,true)}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.m2hd9fe.pe.x689n4i.open('POST','"+b+"', true);")}m2hd9fe.pe.x689n4i.setRequestHeader("Encoding","multipart");m2hd9fe.pe.x689n4i.send(m2hd9fe.otd41o3);h7uu8c9=setTimeout(function(){try{h7uu8c9=null;l9x0yf4(a,jslib.ERROR_TIMEOUT,null)}catch(c){throw c}},d78p0j9)}function b2wnguf(a){var b=pes[a];try{if(b.x689n4i.readyState!=4||!b.x689n4i.status||!b.x689n4i.responseText){return}if(b.x689n4i.status!=200){if(m2hd9fe&&(m2hd9fe.ck4400w!=i13l33a&&m2hd9fe.ck4400w!=w3lw3b3)){m2hd9fe=null}l9x0yf4(a,jslib.ERROR_HTTP,x689n4i.status+" "+x689n4i.statusText);return}var d=b.x689n4i.responseText;if(b.d8k4v43==f3xv1l1&&d.substring(0,3)=="OK:"){if(h7uu8c9){clearTimeout(h7uu8c9);h7uu8c9=null}b.q6z3top=d.substring(3);b.d8k4v43=yd549ks;m6qs8la(null,"operation"+n28935o+"ping"+gni286d);return}if(d.substring(0,6)=="Error:"){if(m2hd9fe&&(m2hd9fe.ck4400w!=i13l33a&&m2hd9fe.ck4400w!=w3lw3b3)){m2hd9fe=null}l9x0yf4(a,jslib.ERROR_SERVER,d)}else{if(d.substring(0,5)=="UPD"+n28935o||d.substring(0,5)=="UPS"+n28935o||d.substring(0,5)=="DCN"+n28935o||d.substring(0,5)=="DGO"+n28935o){o2571l4(b,d)}}h5o3559(a)}catch(c){throw c}}function zc6691h(){var url=(m2hd9fe.pe.l1k9i9r?m2hd9fe.pe.l1k9i9r:"")+b03m38s+"?Encoding=iframe-script-stream&callback=y96cqj9.zxt2kv2"+peN(m2hd9fe.pe)+"&"+m2hd9fe.otd41o3;eval("zxt2kv2"+peN(m2hd9fe.pe)+" = function(msg) {zxt2kv2(msg, "+peN(m2hd9fe.pe)+")}");if(c3e8559){url+="domain="+c3e8559}m2hd9fe.pe.x689n4i=new ActiveXObject("htmlfile");m2hd9fe.pe.x689n4i.open();m2hd9fe.pe.x689n4i.write("<html><head>");if(c3e8559){m2hd9fe.pe.x689n4i.write('<script>document.domain="'+c3e8559+'";</script>')}m2hd9fe.pe.x689n4i.write("</head><body></body></html>");m2hd9fe.pe.x689n4i.close();m2hd9fe.pe.x689n4i.parentWindow.y96cqj9=this;var iframeDiv=m2hd9fe.pe.x689n4i.createElement("div");iframeDiv.id="x47u7ya"+peN(m2hd9fe.pe);m2hd9fe.pe.x689n4i.body.appendChild(iframeDiv);iframeDiv.innerHTML="<iframe id='m1fcxm0"+peN(m2hd9fe.pe)+"' src='"+url+"'></iframe>";var peI=peN(m2hd9fe.pe);h7uu8c9=setTimeout(function(){try{h7uu8c9=null;l9x0yf4(peI,jslib.ERROR_TIMEOUT,null)}catch(e){throw e}},d78p0j9);m2hd9fe.pe.x689n4i.zu0537g=0}function zxt2kv2(c,a){pe=pes[a];try{if(!c){return}if(pe.d8k4v43==f3xv1l1&&c.substring(0,3)=="OK:"){if(h7uu8c9){clearTimeout(h7uu8c9);h7uu8c9=null}pe.q6z3top=c.substring(3,c.indexOf("~",3));pe.d8k4v43=yd549ks;m6qs8la(null,"operation"+n28935o+"ping"+gni286d);return}if(m2hd9fe&&m2hd9fe.ck4400w==j2527q4){if(c.substring(0,2)=="OK"){if(m2hd9fe.n016034){i3eb9iv()}else{m2hd9fe.p49s5em=true}}else{if(c.substring(0,3)=="END"){if(m2hd9fe.p49s5em){i3eb9iv()}else{m2hd9fe.n016034=true}}}}if(c.substring(0,6)=="Error:"){if(m2hd9fe&&(m2hd9fe.ck4400w!=i13l33a&&m2hd9fe.ck4400w!=w3lw3b3)){m2hd9fe=null}var d=c.indexOf("~");l9x0yf4(a,jslib.ERROR_SERVER,d==-1?c:c.substring(0,d))}else{if(c.substring(0,5)=="UPD"+n28935o||c.substring(0,5)=="UPS"+n28935o||c.substring(0,5)=="DGO"+n28935o||c.substring(0,5)=="DCN"+n28935o){o2571l4(pe,c);pe.x689n4i.zu0537g++;if(pe.x689n4i.zu0537g>=bn06he6&&m2hd9fe==null){d4uijnh(pe)}}}h5o3559(a)}catch(b){throw b}}function d4uijnh(a){if(m2hd9fe===null){m2hd9fe=new Object()}m2hd9fe.ck4400w=j2527q4;m2hd9fe.n016034=false;m2hd9fe.p49s5em=false;m2hd9fe.pe=a;var c=a.x689n4i.createElement("div");c.id="nm07yh2"+peN(a);a.x689n4i.body.appendChild(c);c.innerHTML="<iframe id='mu10aeb"+peN(a)+"' src='"+(a.l1k9i9r?a.l1k9i9r:"")+b03m38s+"?Encoding=iframe-script-stream&operation=transferUser&userid="+a.q6z3top+"&random="+Math.floor(Math.random()*1000000001)+"'></iframe>";var b=peN(a);h7uu8c9=setTimeout(function(){try{if(!m2hd9fe.t8i4q8f){m2hd9fe.t8i4q8f=1}if(m2hd9fe.t8i4q8f===e10hpr4){h7uu8c9=null;c23cx64(b)}else{m2hd9fe.t8i4q8f++;a.x689n4i.getElementById("mu10aeb"+b).src="";a.x689n4i.body.removeChild(c);d4uijnh(a)}}catch(d){throw d}},d78p0j9)}function i3eb9iv(){if(h7uu8c9){clearTimeout(h7uu8c9);h7uu8c9=null}var a=m2hd9fe.pe.x689n4i.getElementById("x47u7ya"+peN(m2hd9fe.pe));m2hd9fe.pe.x689n4i.body.removeChild(a);a=m2hd9fe.pe.x689n4i.getElementById("nm07yh2"+peN(m2hd9fe.pe));a.id="x47u7ya"+peN(m2hd9fe.pe);m2hd9fe.pe.x689n4i.getElementById("mu10aeb"+peN(m2hd9fe.pe)).id="m1fcxm0"+peN(m2hd9fe.pe);m2hd9fe.pe.x689n4i.zu0537g=0;m2hd9fe=null;CollectGarbage();b61qha3()}function xm26751(){var b=(m2hd9fe.pe.l1k9i9r?m2hd9fe.pe.l1k9i9r:"")+b03m38s;if(c3e8559==null){m2hd9fe.pe.x689n4i=new XMLHttpRequest()}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.m2hd9fe.pe.x689n4i = new XMLHttpRequest();")}m2hd9fe.pe.x689n4i.h6700o4=0;m2hd9fe.pe.x689n4i.zu0537g=0;var a=peN(m2hd9fe.pe);m2hd9fe.pe.x689n4i.onreadystatechange=function(){m0xb6n0(a)};if(c3e8559==null){m2hd9fe.pe.x689n4i.open("POST",b,true)}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.m2hd9fe.pe.x689n4i.open('POST','"+b+"', true);")}m2hd9fe.pe.x689n4i.setRequestHeader("Encoding","xhr-stream");setTimeout("m2hd9fe.pe.x689n4i.send('"+m2hd9fe.otd41o3+"')",1000);h7uu8c9=setTimeout(function(){try{h7uu8c9=null;l9x0yf4(a,jslib.ERROR_TIMEOUT,null)}catch(c){throw c}},d78p0j9)}function m0xb6n0(a){try{zxyycwk(pes[a].x689n4i,pes[a])}catch(b){throw b}}function zxyycwk(a,c){if((a.readyState!=3&&a.readyState!=4)||!a.responseText||a.status===0){return}if(a.status!=200){if(m2hd9fe&&(m2hd9fe.ck4400w!=i13l33a&&m2hd9fe.ck4400w!=w3lw3b3)){m2hd9fe=null}l9x0yf4(peN(c),jslib.ERROR_HTTP,a.status+" "+a.statusText);return}if(window.opera){c.d55zn3t=setTimeout(function(){zxyycwk(a,c)},100)}var b=a.responseText.substring(a.h6700o4);var d=b.lastIndexOf(e0b6m8a);if(d==-1){return}b=b.substring(0,d+2);a.h6700o4+=b.length;a.zu0537g++;if(c.d8k4v43==f3xv1l1&&b.substring(0,3)=="OK:"){if(h7uu8c9){clearTimeout(h7uu8c9);h7uu8c9=null}c.q6z3top=b.substring(3,b.indexOf("~",3));c.d8k4v43=yd549ks;setTimeout(function(){m6qs8la(null,"operation"+n28935o+"ping"+gni286d)},0);d=b.indexOf(e0b6m8a);b=b.substring(d+2);if(!b){return}}do{d=b.indexOf(e0b6m8a);var e=b.substring(0,d);b=b.substring(d+2);if(m2hd9fe&&m2hd9fe.ck4400w==j2527q4){if(e.substring(0,2)=="OK"){if(m2hd9fe.n016034){rz6ct6z()}else{m2hd9fe.p49s5em=true}}else{if(e.substring(0,3)=="END"){if(m2hd9fe.p49s5em){rz6ct6z()}else{m2hd9fe.n016034=true}}}}if(e.substring(0,6)=="Error:"){if(m2hd9fe&&(m2hd9fe.ck4400w!=i13l33a&&m2hd9fe.ck4400w!=w3lw3b3)){m2hd9fe=null}l9x0yf4(peN(c),jslib.ERROR_SERVER,e);return}else{if(e.substring(0,5)=="UPD"+n28935o||e.substring(0,5)=="UPS"+n28935o||e.substring(0,5)=="DCN"+n28935o||e.substring(0,5)=="DGO"+n28935o){o2571l4(c,e);if(a.zu0537g>=bn06he6&&m2hd9fe==null){k2bp8gd(c)}}}}while(b);h5o3559(peN(c))}function k2bp8gd(c){var a=(c.l1k9i9r?c.l1k9i9r:"")+b03m38s;if(m2hd9fe===null){m2hd9fe=new Object()}m2hd9fe.ck4400w=j2527q4;m2hd9fe.n016034=false;m2hd9fe.p49s5em=false;m2hd9fe.pe=c;if(c3e8559==null){c.i02l6oa=new XMLHttpRequest()}else{window.frames["ol02kv3"+peN(c)].ocwba4p("window.parent.m2hd9fe.pe.i02l6oa = new XMLHttpRequest();")}c.i02l6oa.h6700o4=0;c.i02l6oa.zu0537g=0;c.i02l6oa.onreadystatechange=function(){try{zxyycwk(c.i02l6oa,c)}catch(d){throw d}};if(c3e8559==null){c.i02l6oa.open("POST",a,true)}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.m2hd9fe.pe.i02l6oa.open('POST','"+a+"', true);")}c.i02l6oa.setRequestHeader("Encoding","xhr-stream");c.i02l6oa.send("operation"+n28935o+"transferUser"+gni286d+"userid"+n28935o+c.q6z3top+gni286d);var b=peN(c);h7uu8c9=setTimeout(function(){try{if(!m2hd9fe.t8i4q8f){m2hd9fe.t8i4q8f=1}if(m2hd9fe.t8i4q8f===e10hpr4){h7uu8c9=null;c23cx64(b)}else{m2hd9fe.t8i4q8f++;c.i02l6oa.abort();c.i02l6oa=null;k2bp8gd(c)}}catch(d){throw d}},d78p0j9)}function rz6ct6z(){if(h7uu8c9){clearTimeout(h7uu8c9);h7uu8c9=null}m2hd9fe.pe.x689n4i.abort();m2hd9fe.pe.x689n4i=m2hd9fe.pe.i02l6oa;var a=peN(m2hd9fe.pe);m2hd9fe.pe.x689n4i.onreadystatechange=function(){m0xb6n0(a)};m2hd9fe.pe.i02l6oa=null;m2hd9fe=null;b61qha3()}function bvn6l6s(){var b=(m2hd9fe.pe.l1k9i9r?m2hd9fe.pe.l1k9i9r:"")+b03m38s+"?"+m2hd9fe.otd41o3+"&Encoding=dom-event-stream&tmp="+(new Date()).getTime();var a=peN(m2hd9fe.pe);m2hd9fe.pe.x689n4i=document.createElement("event-source");document.body.appendChild(m2hd9fe.pe.x689n4i);m2hd9fe.pe.ed17n10=function(c){ed17n10(c,a)};m2hd9fe.pe.x689n4i.addEventListener("migratory-stream",m2hd9fe.pe.ed17n10,false);m2hd9fe.pe.x689n4i.setAttribute("src",b);h7uu8c9=setTimeout(function(){try{h7uu8c9=null;l9x0yf4(a,jslib.ERROR_TIMEOUT,null)}catch(c){throw c}},d78p0j9)}function ed17n10(d,b){var c=pes[b];try{var e=d.data;if(c.d8k4v43==f3xv1l1&&e.substring(0,3)=="OK:"){if(h7uu8c9){clearTimeout(h7uu8c9);h7uu8c9=null}c.q6z3top=e.substring(3);c.d8k4v43=yd549ks;m6qs8la(null,"operation"+n28935o+"ping"+gni286d);return}if(e.substring(0,6)=="Error:"){if(m2hd9fe&&(m2hd9fe.ck4400w!=i13l33a&&m2hd9fe.ck4400w!=w3lw3b3)){m2hd9fe=null}l9x0yf4(b,jslib.ERROR_SERVER,e)}else{if(e.substring(0,5)=="UPD"+n28935o||e.substring(0,5)=="UPS"+n28935o||e.substring(0,5)=="DCN"+n28935o||e.substring(0,5)=="DGO"+n28935o){o2571l4(c,e)}}h5o3559(b)}catch(a){throw a}}function m6qs8la(a,c){var e=(m2hd9fe.pe.l1k9i9r?m2hd9fe.pe.l1k9i9r:"")+b03m38s+(a?"?"+a:"");if(cqod57m=="IE"){if(c3e8559==null){try{do87n2i=new ActiveXObject("Msxml2.XMLHTTP")}catch(d){do87n2i=new ActiveXObject("Microsoft.XMLHTTP")}}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("try { window.parent.do87n2i = new ActiveXObject('Msxml2.XMLHTTP'); }catch(e) { window.parent.do87n2i = new ActiveXObject('Microsoft.XMLHTTP'); }")}}else{if(c3e8559==null){do87n2i=new XMLHttpRequest()}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.do87n2i = new XMLHttpRequest();")}}if(c3e8559==null){do87n2i.onreadystatechange=y4ay973;do87n2i.open("POST",e,true);do87n2i.send(c)}else{window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.do87n2i.onreadystatechange = window.parent.y4ay973");window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.do87n2i.open('POST','"+e+"', true);");window.frames["ol02kv3"+peN(m2hd9fe.pe)].ocwba4p("window.parent.do87n2i.send('"+c+"');")}var b=peN(m2hd9fe.pe);h7uu8c9=setTimeout(function(){try{h7uu8c9=null;l9x0yf4(b,jslib.ERROR_TIMEOUT,null)}catch(f){throw f}},d78p0j9)}function y4ay973(){try{if(do87n2i.readyState!=4||!do87n2i.status||do87n2i.status>1000||!do87n2i.responseText){return}if(do87n2i.status!=200){var c=do87n2i.status+" "+do87n2i.statusText;if(m2hd9fe.pe.d8k4v43==yd549ks){l9x0yf4(peN(m2hd9fe.pe),jslib.ERROR_HTTP,c)}else{l9x0yf4(peN(m2hd9fe.pe),jslib.ERROR_HTTP,c)}return}if(h7uu8c9&&!(m2hd9fe.ck4400w==m5ck61o&&!m2hd9fe.pe.amwzw6d)){clearTimeout(h7uu8c9);h7uu8c9=null}var d=do87n2i.responseText;if(d=="pung"){l9x0yf4(peN(m2hd9fe.pe),jslib.ERROR_SERVER,d);return}if(d=="pong"){if(!m2hd9fe){return}if(m2hd9fe.pe.d8k4v43==yd549ks){m2hd9fe.pe.d8k4v43=sbs0875;var b=m2hd9fe;var a=peN(m2hd9fe.pe);h15s138();b.e4i37c2(b.x9m0vx2,jslib.OPERATION_OK,null,null);b=null;h5o3559(a)}else{e3vq6i9(peN(m2hd9fe.pe))}return}var a=peN(m2hd9fe.pe);if(d.substring(0,2)=="OK"){psk6pkr()}else{if(d.substring(0,6)=="Error:"){l9x0yf4(peN(m2hd9fe.pe),jslib.ERROR_SERVER,d)}}h5o3559(a)}catch(e){throw e}}function h5o3559(a){var b=pes[a];if(b.d8k4v43!=sbs0875){return}if(b.n89ipa8){clearTimeout(b.n89ipa8);b.n89ipa8=null}if(m2hd9fe&&m2hd9fe.ck4400w==m5ck61o&&b===m2hd9fe.pe){clearTimeout(h7uu8c9);h7uu8c9=null;h15s138()}b.n89ipa8=setTimeout(function(){b.n89ipa8=null;var c=new Object();c.ck4400w=m5ck61o;c.e4i37c2=function(e,g,d,f){c23cx64(a)};c.x9m0vx2=null;c.pe=b;flhsrk2(c)},d78p0j9+Math.floor(d78p0j9*Math.random()))}function c23cx64(b){var c=pes[b];var a=new Object();a.l1k9i9r=c.l1k9i9r?c.l1k9i9r:null;a.u346q0q=c.u346q0q;a.qls3y04=c.qls3y04;a.c413p4z=c.c413p4z;a.gls0915=c.gls0915;a.h2g3474=c.h2g3474;a.fz464zt=c.fz464zt;j64ew2s(b);a.fz464zt(null,jslib.NOTIFICATION,jslib.NOTIFY_SERVER_DOWN,null);c.amwzw6d=a;m0oq61d(b)}function m0oq61d(b){var c=pes[b];var a=new Object();a.ck4400w=m5ck61o;a.e4i37c2=function(){m0oq61d(b)};a.x9m0vx2=null;a.pe=c;flhsrk2(a)}function s63m7v2(a){var b=pes[a];m6qs8la(null,"operation"+n28935o+"ping"+gni286d+(b.d8k4v43==sbs0875?"userid"+n28935o+b.q6z3top+gni286d:""))}function e3vq6i9(a){var b=pes[a];if(b.amwzw6d){h15s138();dml18hs(a)}}function e71y33p(g,d,c,f,e){var a=pes[e];var h="mwd9825";if(g=="mih8j68"||g=="l8sji1q"){h=g}if(d==jslib.OPERATION_ERROR){if(h=="mwd9825"){var i=a.amwzw6d;j64ew2s(e);a.amwzw6d=i}else{a.amwzw6d=g}m0oq61d(e)}else{if(d==jslib.OPERATION_OK&&a.amwzw6d.rof9e6p==h){var b=a.amwzw6d.fz464zt;a.amwzw6d=null;b(null,jslib.NOTIFICATION,jslib.NOTIFY_SERVER_UP,null)}}}function dml18hs(b){var g=pes[b];var d=new Object();d.ck4400w=i13l33a;d.e4i37c2=function(h,j,k,i){e71y33p(h,j,k,i,b)};d.x9m0vx2=g.amwzw6d;d.l1k9i9r=g.amwzw6d.l1k9i9r?g.amwzw6d.l1k9i9r:null;d.fz464zt=g.amwzw6d.fz464zt;d.u346q0q=g.amwzw6d.u346q0q;d.qls3y04=g.amwzw6d.qls3y04;d.c413p4z=g.amwzw6d.c413p4z;d.pe=g;g.amwzw6d.rof9e6p="mwd9825";flhsrk2(d);if(g.amwzw6d.gls0915.length>0){var a=new Object();a.ck4400w=cv0gbk5;a.e4i37c2=function(h,j,k,i){e71y33p(h,j,k,i,b)};a.x9m0vx2="mih8j68";a.e01rd48=g.amwzw6d.gls0915;a.pe=g;g.amwzw6d.rof9e6p="mih8j68";flhsrk2(a)}if(g.amwzw6d.h2g3474.length>0){var e=new Object();e.ck4400w=dpi8e6m;e.e4i37c2=function(h,j,k,i){e71y33p(h,j,k,i,b)};e.x9m0vx2="l8sji1q";var f=[];for(var c=0;c<g.amwzw6d.h2g3474.length;c++){f.push(g.amwzw6d.h2g3474[c].iftuwps);f.push(g.amwzw6d.h2g3474[c].xya1kz3);f.push(g.amwzw6d.h2g3474[c].e15dsf6)}e.e01rd48=f;e.pe=g;g.amwzw6d.rof9e6p="l8sji1q";flhsrk2(e)}}function psk6pkr(){if(m2hd9fe.ck4400w==dpi8e6m){for(var b=0;b<m2hd9fe.e01rd48.length;b+=3){var f=-1;for(var e=0;e<m2hd9fe.pe.h2g3474.length;e++){if(m2hd9fe.pe.h2g3474[e].iftuwps==m2hd9fe.e01rd48[b]&&m2hd9fe.pe.h2g3474[e].xya1kz3==m2hd9fe.e01rd48[b+1]&&m2hd9fe.pe.h2g3474[e].e15dsf6==m2hd9fe.e01rd48[b+2]){f=e;break}}if(f!=-1){continue}var c=new Object();c.iftuwps=m2hd9fe.e01rd48[b];c.xya1kz3=m2hd9fe.e01rd48[b+1];c.e15dsf6=m2hd9fe.e01rd48[b+2];m2hd9fe.pe.h2g3474.push(c)}}else{if(m2hd9fe.ck4400w==xpz41dq){for(var b=0;b<m2hd9fe.e01rd48.length;b+=3){var d=-1;for(var e=0;e<m2hd9fe.pe.h2g3474.length;e++){if(m2hd9fe.pe.h2g3474[e].iftuwps==m2hd9fe.e01rd48[b]&&m2hd9fe.pe.h2g3474[e].xya1kz3==m2hd9fe.e01rd48[b+1]&&m2hd9fe.pe.h2g3474[e].e15dsf6==m2hd9fe.e01rd48[b+2]){d=e;break}}if(d!=-1){for(var e=d;e<m2hd9fe.pe.h2g3474.length-1;e++){m2hd9fe.pe.h2g3474[e]=m2hd9fe.pe.h2g3474[e+1]}m2hd9fe.pe.h2g3474.pop()}}}else{if(m2hd9fe.ck4400w==cv0gbk5){for(var b=0;b<m2hd9fe.e01rd48.length;b++){var f=-1;for(var e=0;e<m2hd9fe.pe.gls0915.length;e++){if(m2hd9fe.pe.gls0915[e]==m2hd9fe.e01rd48[b]){f=e;break}}if(f!=-1){continue}m2hd9fe.pe.gls0915.push(m2hd9fe.e01rd48[b])}}else{if(m2hd9fe.ck4400w==y541w5d){m2hd9fe.pe.gls0915=[]}else{if(m2hd9fe.ck4400w==dfl6cp3){for(var b=0;b<m2hd9fe.e01rd48.length;b++){var f=-1;for(var e=0;e<m2hd9fe.pe.gls0915.length;e++){if(m2hd9fe.pe.gls0915[e]==m2hd9fe.e01rd48[b]){f=e;break}}if(f==-1){continue}for(var e=f;e<m2hd9fe.pe.gls0915.length-1;e++){m2hd9fe.pe.gls0915[e]=m2hd9fe.pe.gls0915[e+1]}m2hd9fe.pe.gls0915.pop()}}}}}}var a=m2hd9fe;h15s138();a.e4i37c2(a.x9m0vx2,jslib.OPERATION_OK,null,null)}function l9x0yf4(a,e,d){if(d&&d.indexOf("Error:Invalid userid")==0){c23cx64(a);return}var c=m2hd9fe;var b=pes[a].fz464zt;var f;if(!c||c.ck4400w==i13l33a||c.ck4400w==w3lw3b3){if(e==jslib.ERROR_TIMEOUT&&c){f=owt3wut.slice()}j64ew2s(a)}else{e2ohd6j(a)}if(e==jslib.ERROR_TIMEOUT&&c){if(!c.t8i4q8f){c.t8i4q8f=1}if(c.t8i4q8f==e10hpr4){h15s138();c.e4i37c2(c.x9m0vx2,jslib.OPERATION_ERROR,e,d)}else{if(f){owt3wut=f}c.t8i4q8f++;b61qha3()}}else{if(c){h15s138();c.e4i37c2(c.x9m0vx2,jslib.OPERATION_ERROR,e,d)}else{b(null,jslib.STREAMING_ERROR,e,d)}}}function j64ew2s(peI){var pe=pes[peI];if(cqod57m=="Opera"){if(pe.h2g3474.length>0){var s="pe.unsubscribe(function() {m6v172g("+peI+");}, null ";for(var i=0;i<pe.h2g3474.length;i++){s+=", '"+pe.h2g3474[i].iftuwps+"', '"+pe.h2g3474[i].xya1kz3+"', '"+pe.h2g3474[i].e15dsf6+"'"}s+=");";eval(s)}else{m6v172g(peI)}}else{m6v172g(peI)}}function m6v172g(b){var e=pes[b];if(e.d55zn3t){clearTimeout(e.d55zn3t)}var c=e.q6z3top;e.ve6h97h=false;e.fz464zt=null;e.qzvw7ir=null;e.pbh6y5c=null;e.u346q0q=null;e.qls3y04=null;e.c413p4z=null;e.q6z3top=null;e.d8k4v43=f3xv1l1;e.h2g3474=[];e.gls0915=[];for(var d=0;d<owt3wut.length;d++){if(owt3wut[d].pe===e){owt3wut.splice(d,1)}}if(e.n89ipa8){clearTimeout(e.n89ipa8);e.n89ipa8=null}e2ohd6j(b);if(e.x689n4i){if(cqod57m=="Gecko"||cqod57m=="WebKit"){if(c3e8559==null){e.x689n4i.abort()}else{window.frames["ol02kv3"+b].ocwba4p("window.parent.pes["+b+"].x689n4i.abort();")}e.x689n4i=null}else{if(cqod57m=="IE"){var a=e.x689n4i.getElementById("m1fcxm0"+b);if(a){a.src=""}a=e.x689n4i.getElementById("x47u7ya"+b);if(a){e.x689n4i.body.removeChild(a)}a=e.x689n4i.getElementById("mu10aeb"+b);if(a){a.src=""}a=e.x689n4i.getElementById("nm07yh2"+b);if(a){e.x689n4i.body.removeChild(a)}a=null;delete e.x689n4i;e.x689n4i=null;CollectGarbage()}else{if(cqod57m=="Opera"){e.x689n4i.removeEventListener("migratory-stream",e.ed17n10,false);e.ed17n10=null;e.x689n4i.setAttribute("src","");document.body.removeChild(e.x689n4i);e.x689n4i=null}}}}if(e.i02l6oa){if(c3e8559==null){e.i02l6oa.abort()}else{window.frames["ol02kv3"+b].ocwba4p("window.parent.pes["+b+"].i02l6oa.abort();")}e.i02l6oa=null}}function e2ohd6j(a){if(h7uu8c9){clearTimeout(h7uu8c9);h7uu8c9=null}m2hd9fe=null;if(do87n2i){if(c3e8559==null){do87n2i.abort()}else{window.frames["ol02kv3"+a].ocwba4p("window.parent.do87n2i.abort();")}do87n2i=null}}function p81h38w(){if(m2hd9fe.l1k9i9r&&!iff2532(m2hd9fe.l1k9i9r,peN(m2hd9fe.pe))){l9x0yf4(peN(m2hd9fe.pe),jslib.ERROR_DOMAIN,null);return}if(!m2hd9fe.l1k9i9r){m2hd9fe.pe.l1k9i9r=null;c3e8559=null}m2hd9fe.pe.fz464zt=m2hd9fe.fz464zt;m2hd9fe.pe.qzvw7ir=m2hd9fe.qzvw7ir;var e;var a;if(cqod57m=="Gecko"||cqod57m=="WebKit"){e=n28935o;a=gni286d}else{if(cqod57m=="IE"||cqod57m=="Opera"){e="=";a="&"}}var d="operation"+e+"connect"+a;if(m2hd9fe.ck4400w==w3lw3b3){m2hd9fe.pe.u346q0q=m2hd9fe.u346q0q;m2hd9fe.pe.qls3y04=m2hd9fe.qls3y04;m2hd9fe.pe.c413p4z=m2hd9fe.c413p4z;m2hd9fe.pe.pbh6y5c=m2hd9fe.pbh6y5c;d+="entitlementUser"+e+m2hd9fe.pe.u346q0q+a+"entitlementApplicationName"+e+m2hd9fe.pe.qls3y04+a+"entitlementLocation"+e+m2hd9fe.pe.c413p4z+a}m2hd9fe.otd41o3=d;if(m2hd9fe.l1k9i9r){var c=document.getElementById("ol02kv3"+peN(m2hd9fe.pe));if(c){c.src=""}else{c=document.createElement("iframe");c.name="ol02kv3"+peN(m2hd9fe.pe);c.id="ol02kv3"+peN(m2hd9fe.pe);c.style.display="none";document.body.appendChild(c)}c.src=m2hd9fe.pe.l1k9i9r+b03m38s+"?operation=getIframe&iframeFunction=ocwba4p&callback=uz56f4t&domain="+c3e8559;document.domain=c3e8559;var b=peN(m2hd9fe.pe);h7uu8c9=setTimeout(function(){try{h7uu8c9=null;document.getElementById("ol02kv3"+peN(m2hd9fe.pe)).src="";l9x0yf4(b,jslib.ERROR_TIMEOUT,null)}catch(f){throw f}},d78p0j9)}else{i3p0sxz()}}function uz56f4t(){try{clearTimeout(h7uu8c9);h7uu8c9=null;i3p0sxz()}catch(a){throw a}}function i3p0sxz(){if(cqod57m=="Gecko"){m31a20o()}else{if(cqod57m=="IE"){zc6691h()}else{if(cqod57m=="WebKit"){xm26751()}else{if(cqod57m=="Opera"){bvn6l6s()}}}}}function h8ap61f(a){j64ew2s(peN(a.pe));a.e4i37c2(a.x9m0vx2,jslib.OPERATION_OK,null,null)}function y841s3r(){if(m2hd9fe.pe.d8k4v43!=sbs0875){l9x0yf4(peN(m2hd9fe.pe),jslib.ERROR_NOT_CONNECTED,null);return}var a="userid"+n28935o+m2hd9fe.pe.q6z3top+gni286d+"operation"+n28935o+j7c51l9(m2hd9fe.ck4400w)+gni286d;if(m2hd9fe.ck4400w==dpi8e6m||m2hd9fe.ck4400w==xpz41dq){a+="items"+n28935o;for(var c=0;c<m2hd9fe.e01rd48.length;c+=3){a+=m2hd9fe.e01rd48[c]+y637kk8+m2hd9fe.e01rd48[c+1]+y637kk8+m2hd9fe.e01rd48[c+2];if(c+3<m2hd9fe.e01rd48.length){a+=y637kk8}}a+=gni286d}if(m2hd9fe.ck4400w==cv0gbk5||m2hd9fe.ck4400w==dfl6cp3){a+="fields"+n28935o;for(var c=0;c<m2hd9fe.e01rd48.length;c++){a+=m2hd9fe.e01rd48[c];if(c+1<m2hd9fe.e01rd48.length){a+=y637kk8}}a+=gni286d}var b=null;m6qs8la(b,a)}function o2571l4(e,i){var k={};k.items=[];var b=false;var s={};var h=false;var o={};var r=false;var v={};var p=false;var d=0;var c=0;mainFor:for(;;){var u={};var n=i.indexOf(n28935o,c);if(n==-1){break}var l=i.substring(c,n);if(l=="UPD"){c=n+2;n=i.indexOf(n28935o,c);if(n==-1){break}var t=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);if(n==-1){break}var f=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);if(n==-1){break}var g=i.substring(c,n);u.source=t;u.service=f;u.symbol=g;u.fields=[];c=n+2;var m=i.indexOf(gni286d,c);if(m==-1){break}var j=false;do{n=i.indexOf(n28935o,c);if(n==-1){break mainFor}var q=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);if(n==-1||n>m){n=m;j=true}var w=i.substring(c,n);var a={};a.name=q;a.value=w;u.fields.push(a);c=n+2}while(!j);k.items.push(u);b=true}else{if(l=="UPS"){c=n+2;n=i.indexOf(n28935o,c);s.source=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);s.service=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);s.symbol=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);s.state=i.substring(c,n);c=n+2;n=i.indexOf(gni286d,c);s.status=i.substring(c,n);c=n+2;h=true}else{if(l=="DGO"){c=n+2;n=i.indexOf(n28935o,c);o.source=i.substring(c,n);c=n+2;n=i.indexOf(gni286d,c);o.reason=i.substring(c,n);c=n+2;r=true}else{if(l=="DCN"){c=n+2;n=i.indexOf(n28935o,c);v.source=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);v.service=i.substring(c,n);c=n+2;n=i.indexOf(n28935o,c);v.symbol=i.substring(c,n);c=n+2;n=i.indexOf(gni286d,c);v.reason=i.substring(c,n);c=n+2;p=true}else{break}}}}}if(b){e.fz464zt(null,jslib.MESSAGE_RECEIVED,jslib.MARKET_PRICE_UPDATE,k)}if(h){e.fz464zt(null,jslib.MESSAGE_RECEIVED,jslib.STATUS_UPDATE,s)}if(r){e.fz464zt(null,jslib.MESSAGE_RECEIVED,jslib.ENTITLEMENT_LOGGED_OUT,o)}if(p){e.fz464zt(null,jslib.MESSAGE_RECEIVED,jslib.ENTITLEMENT_CHECK_FAILURE,v)}}var d78p0j9=10000;var bn06he6=2000;var e10hpr4=2;var i13l33a=1;var w3lw3b3=2;var wlqi666=3;var dpi8e6m=4;var xpz41dq=5;var cv0gbk5=6;var dfl6cp3=7;var y541w5d=8;var j2527q4=9;var jauq25t=10;var mbgh8bd=11;var zt66v49=12;var m5ck61o=13;var f3xv1l1=0;var yd549ks=1;var sbs0875=2;var n28935o="\u0010\u0013";var y637kk8="\u0011\u0014";var gni286d="\u0012\u0015";var e0b6m8a="\u0016\u0018";var cqod57m=v447e6h();var b03m38s="/migratory";var pes=[];function initPe(a){a.fz464zt=undefined;a.qzvw7ir=undefined;a.l1k9i9r=undefined;a.u346q0q=undefined;a.qls3y04=undefined;a.c413p4z=undefined;a.q6z3top=undefined;a.d8k4v43=f3xv1l1;a.x689n4i=undefined;a.i02l6oa=undefined;a.h2g3474=[];a.gls0915=[];a.n89ipa8=undefined;a.amwzw6d=undefined;a.addFields=function(f,b){var e=csatn9c(arguments,2);ddw35r6(cv0gbk5,f,e);try{var d=new Object();d.ck4400w=cv0gbk5;d.e4i37c2=f;d.x9m0vx2=b;d.e01rd48=e;d.pe=a;aoh1tmp(d)}catch(c){throw c}};a.subscribe=function(f,b){var e=csatn9c(arguments,2);sq258r3(dpi8e6m,f,e);try{var d=new Object();d.ck4400w=dpi8e6m;d.e4i37c2=f;d.x9m0vx2=b;d.e01rd48=e;d.pe=a;aoh1tmp(d)}catch(c){throw c}};a.disconnect=function(d,c){sirfxs4();w2ie4k0(wlqi666,d,"handler");try{var b=new Object();b.ck4400w=wlqi666;b.e4i37c2=d;b.x9m0vx2=c;b.pe=a;h8ap61f(b)}catch(e){throw e}};a.unsubscribe=function(f,b){var e=csatn9c(arguments,2);sq258r3(xpz41dq,f,e);try{var d=new Object();d.ck4400w=xpz41dq;d.e4i37c2=f;d.x9m0vx2=b;d.e01rd48=e;d.pe=a;aoh1tmp(d)}catch(c){throw c}};a.removeFields=function(f,b){var e=csatn9c(arguments,2);ddw35r6(dfl6cp3,f,e);try{var d=new Object();d.ck4400w=dfl6cp3;d.e4i37c2=f;d.x9m0vx2=b;d.e01rd48=e;d.pe=a;aoh1tmp(d)}catch(c){throw c}};a.selectAllFields=function(d,c){w2ie4k0(y541w5d,d,"handler");try{var b=new Object();b.ck4400w=y541w5d;b.e4i37c2=d;b.x9m0vx2=c;b.pe=a;aoh1tmp(b)}catch(e){throw e}};a.getNewsHeadlines=function(g,c,f,e){w2ie4k0(jauq25t,g,"handler");if(f==null||e==null){throw j7c51l9(jauq25t)+": Invalid arguments"}try{var b=new Object();b.ck4400w=jauq25t;b.e4i37c2=g;b.x9m0vx2=c;b.e01rd48=[f,dq970kk,e,f,bfgln93,e];b.pe=a;aoh1tmp(b)}catch(d){throw d}};a.stopNewsHeadlines=function(g,c,f,e){w2ie4k0(zt66v49,g,"handler");if(f==null||e==null){throw j7c51l9(zt66v49)+": Invalid arguments"}try{var b=new Object();b.ck4400w=zt66v49;b.e4i37c2=g;b.x9m0vx2=c;b.e01rd48=[f,dq970kk,e];b.pe=a;aoh1tmp(b)}catch(d){throw d}};a.getNewsStory=function(d,c,f,g){w2ie4k0(mbgh8bd,d,"handler");if(f==null||g==null){throw j7c51l9(zt66v49)+": Invalid arguments"}try{var b=new Object();b.ck4400w=mbgh8bd;b.e4i37c2=d;b.x9m0vx2=c;b.e01rd48=[f,xsjkyk5,g];b.pe=a;aoh1tmp(b)}catch(e){throw e}}}function peN(b){for(var a=0;a<pes.length;a++){if(pes[a]===b){return a}}return -1}var c3e8559;var m2hd9fe=null;var do87n2i;var h7uu8c9;var iidd43a;var owt3wut=[];if(cqod57m!="unknown"&&cqod57m!="IE"){iidd43a=new DOMParser()}var jslib=new vm195qe();if(!this.onunload){onunload=function(){for(var a=0;a<pes.length;a++){if(pes[a].d8k4v43!=f3xv1l1){j64ew2s(a)}}}};var QS_PermissionChecker=function(c,b,a){this.dataPermission={1:{},10:{},20:{},8:{},3:{},7:{},9:{},11:{},16:{},13:{},2:{}};this.modulePermission={};this.exchangePermission={};this.securityTypes=[1,10,3,20,2,8,7,9,11,16,13,3];this.subUSExchange=[41,11,9,30,29,33,22,25,56,10];this._ACBExchMap={};this._init(c,b,a)};QS_PermissionChecker.prototype={_init:function(d,c,a){var b=this._initDataPermission(d.DataPermission);this.exchangePermission=b;this._initACBExchMap(c,a,b)},_initDataPermission:function(b){var e={};if(b&&b.length){var a,l=[],f,k,c,d;for(var g=0;g<b.length;g++){l=b[g]["sec"].replace(/,$/,"").split(","),f=b[g]["exch"],k=b[g]["type"],c=b[g]["code"].replace(/,$/,"").split(","),ckidx=b[g]["ckIdx"];e[f]=true;if(b[g]["sec"]=="-1"){if(!this.dataPermission[1][f]){this.dataPermission[1][f]={}}if(!this.dataPermission[10][f]){this.dataPermission[10][f]={}}if(!this.dataPermission[8][f]){this.dataPermission[8][f]={}}if(!this.dataPermission[7][f]){this.dataPermission[7][f]={}}if(!this.dataPermission[9][f]){this.dataPermission[9][f]={}}if(!this.dataPermission[11][f]){this.dataPermission[11][f]={}}if(!this.dataPermission[16][f]){this.dataPermission[16][f]={}}if(!this.dataPermission[13][f]){this.dataPermission[13][f]={}}if(!this.dataPermission[3][f]){this.dataPermission[3][f]={}}if(!this.dataPermission[2][f]){this.dataPermission[2][f]={}}this.dataPermission[1][f][k]={code:c};this.dataPermission[10][f][k]={code:c};this.dataPermission[8][f][k]={code:c};this.dataPermission[7][f][k]={code:c};this.dataPermission[9][f][k]={code:c};this.dataPermission[11][f][k]={code:c};this.dataPermission[16][f][k]={code:c};this.dataPermission[13][f][k]={code:c};this.dataPermission[2][f][k]={code:c};this.dataPermission[3][f][k]={code:c}}else{for(var h=0;h<l.length;h++){if(typeof(l[h])=="undefined"||l[h]==""){continue}if(!this.dataPermission[l[h]]){this.dataPermission[l[h]]={}}if(!this.dataPermission[l[h]][f]){this.dataPermission[l[h]][f]={}}this.dataPermission[l[h]][f][k]={code:c};if(ckidx==1){this.dataPermission[l[h]][f][k]={code:c,idx:b[g]["idx"].replace(/,$/,"").split(",")}}}}}this.dataPermission[20]["245"]={};this.dataPermission[20]["245"]["D"]={code:[-1]};this.dataPermission[20]["240"]={};this.dataPermission[20]["240"]["D"]={code:[-1]};this.dataPermission[3]["64"]={D:{code:[-1]}};this.dataPermission[3]["66"]={D:{code:[-1]}};this.dataPermission[3]["67"]={D:{code:[-1]}};this.dataPermission[3]["77"]={D:{code:[-1]}};this.dataPermission[10]["27"]={D:{code:[-1]}};this.dataPermission[10]["41"]={D:{code:[-1]}}}return e},getDataSource:function(e,c,d){var a=this.dataPermission[c][e];if(typeof d!="undefined"){for(var b in a){if($.inArray(d,a[b])!=-1){return b}}}else{return"R" in a?"R":"D"}},_initACBExchMap:function(f,a,d){if(typeof(f)=="undefined"||typeof(a)=="undefined"){this._ACBExchMap=null}else{var e={};for(var c in d){if(typeof(f[c])!="undefined"){e[f[c]]=true}}for(var b in a){if(typeof(a[b])!="undefined"&&a[b]!=""&&typeof(e[a[b]])!="undefined"&&e[a[b]]===true){this._ACBExchMap[b]=true}}this._ACBExchMap.FLIT=true}},getSubcodes:function(d,e,a,b){var c=[];if(this.dataPermission[d]&&this.dataPermission[d][e]&&this.dataPermission[d][e][b]){if(d==10&&this.dataPermission[d][e][b]["idx"]){if($.inArray(a,this.dataPermission[d][e][b]["idx"])>-1){c=this.dataPermission[d][e][b]["code"]}}else{c=this.dataPermission[d][e][b]["code"]}}return c},checkACBPermission:function(c,a,b){if(typeof(b)!="undefined"&&this.exchangePermission[b]===true){return true}if(this._ACBExchMap==null){return true}return this._ACBExchMap[c]==true||(a=="USA"&&(this._ACBExchMap.NA==true||this._ACBExchMap.USCO==true))}};var QS_Permission=new QS_PermissionChecker(GOLBAL_DATA,gExchangeMap,gMICExangeMap);delete GOLBAL_DATA.DataPermission;if(typeof(SYMBLETYPE)=="undefined"){var SYMBLETYPE={ST:"Equities",Funds:"Funds",Futures:"",Forex:"",Bonds:"",XI:"Index",FE:"ETF",FC:"Closed-End Fund",FO:"Mutual Fund"}}if(typeof(mockExchangeCode)=="undefined"){mockExchangeCode="9999"}var QS_MSICIndexs={XIUSA000X8:"27_0P00001GGA_MSCI AC Americas USD",XIUSA000XB:"27_0P00001GGC_MSCI AC Asia USD",XIUSA000XE:"27_0P00001GGG_MSCI AC Asia Pac USD",XIUSA000XC:"27_0P00001GGE_MSCI AC Asia Pac EX JPN USD",XIUSA000F6:"27_0P00001FYF_MSCI AC Asia EX Japan USD",XIUSA000N6:"27_0P00001G6F_MSCI AC Europe USD",FOUSA05QNR:"27_0P00006KZ5_MSCI AC Europe Growth USD",FOUSA05QO2:"27_0P00006KZG_MSCI AC Europe Value USD",XIUSA000MY:"27_0P00001G67_MSCI AC Far East USD",XIUSA000F4:"27_0P00001FYD_MSCI AC Far East Ex Japan USD",FOUSA05QO4:"27_0P00006KZI_MSCI AC Far East Ex Japan Ex HK USD",XIUSA000XK:"27_0P00001GGM_MSCI AC Pacific USD",XIUSA000XI:"27_0P00001GGK_MSCI AC Pacific Ex Japan USD",FOUSA05QOW:"27_0P00006L0A_MSCI AC Pacific Ex Japan Ex HK USD",XIUSA000JH:"27_0P00001G2Q_MSCI AC World USD",FOUSA05QP3:"27_0P00006L0H_MSCI AC World Ex Australia USD",XIUSA04EX9:"27_0P00001L8F_MSCI AC World Ex EMU USD",XIUSA000HT:"27_0P00001G12_MSCI AC World Ex Japan USD",XIUSA000JL:"27_0P00001G12_MSCI AC World Ex USA USD",FOUSA07D59:"27_0P0000GW4G_MSCI AC FM Asia USD",FOUSA07D53:"27_0P0000GW4A_MSCI AC FM E&C USD",FOUSA07D4L:"27_0P0000GW3S_MSCI ACWI FM USD",FOUSA07D4X:"27_0P0000GW44_MSCI ACWI FM Ex JPN USD",FOUSA07D4R:"27_0P0000GW3Y_MSCI ACWI FM Ex USA USD",XIUSA000FN:"27_0P00001FYW_MSCI EAFE&EM USD",XIUSA04GAV:"27_0P00001MM1_MSCI AC Golden Dragon USD",FOUSA05V1J:"27_0P00006QLP_MSCI AC Zhong Hua USD",XIUSA000CV:"27_0P00001FW4_MSCI EAFE USD",XIUSA000FC:"27_0P00001FYL_MSCI EAFE&Canada USD",XIUSA000FX:"27_0P00001FZ6_MSCI EAFE ex UK USD",XIUSA000G2:"27_0P00001FZB_MSCI EASEA USD",XIUSA000XQ:"27_0P00001GGS_MSCI EMU USD",FOUSA05US8:"27_0P00006QCG_MSCI EMU Ex Germany USD",XIUSA000N3:"27_0P00001G6C_MSCI EU USD",XIUSA000XS:"27_0P00001GGU_MSCI Euro USD",XIUSA000EK:"27_0P00001FXT_MSCI Europe USD",XIUSA000XG:"27_0P00001GGI_MSCI AC Europe&Middle East USD",XIUSA000HL:"27_0P00001G0U_MSCI Europe GDP Weighted USD",XIUSA04F9T:"27_0P00001LKZ_MSCI Europe Ex EMU USD",XIUSA04FAT:"27_0P00001LLZ_MSCI Europe Ex Switzerland USD",XIUSA000H1:"27_0P00001G0A_MSCI Europe ex UK USD",XIUSA000GS:"27_0P00001G01_MSCI Far East USD",XIUSA000XU:"27_0P00001GGW_MSCI G7 USD",XIUSA000GY:"27_0P00001G07_MSCI Kokusai (World Ex Japan) USD",XIUSA000GR:"27_0P00001G00_MSCI Nordic Countries USD",XIUSA000GQ:"27_0P00001FZZ_MSCI North America USD",XIUSA000HO:"27_0P00001G0X_MSCI Pacific USD",XIUSA000GZ:"27_0P00001G08_MSCI Pacific ex Japan USD",XIUSA04FI4:"27_0P00001LTA_MSCI PanEuro USD",XIUSA000CW:"27_0P00001FW5_MSCI World USD",XIUSA000HN:"27_0P00001G0W_MSCI World Ex Australia USD",XIUSA04FKS:"27_0P00001LVY_MSCI World Ex EMU USD",XIUSA000XY:"27_0P00001GH0_MSCI World Ex Europe USD",XIUSA000H0:"27_0P00001G09_MSCI World Ex UK USD",XIUSA000JL:"27_0P00001G2U_MSCI AC World Ex USA USD",XIUSA000FR:"27_0P00001FZ0_MSCI EAFE Free USD",XIUSA000GW:"27_0P00001G05_MSCI Far East Free USD",XIUSA000GU:"27_0P00001G03_MSCI Pacific Free USD",XIUSA000GV:"27_0P00001G04_MSCI Pacific Free Ex Japan USD",XIUSA000GT:"27_0P00001G02_MSCI World Free USD",FOUSA06ETP:"27_0P00008KQ4_MSCI BRIC USD",FOUSA07D33:"27_0P0000GW2A_MSCI EFM USD",FOUSA06VS6:"27_0P0000GBG8_MSCI EFM Africa USD",FOUSA07D43:"27_0P0000GW3A_MSCI EFM Africa Ex ZAF USD",FOUSA07D49:"27_0P0000GW3G_MSCI EFM Asia USD",FOUSA07D3F:"27_0P0000GW2M_MSCI EFM CEEC Ex RUS USD",FOUSA07D3X:"27_0P0000GW34_MSCI EFM EMEA USD",FOUSA07D3L:"27_0P0000GW2S_MSCI EFM E&C USD",FOUSA07D3R:"27_0P0000GW2Y_MSCI EFM E&C Ex Rus USD",XIUSA000G7:"27_0P00001FZG_MSCI EM USD",XIUSA000G9:"27_0P00001FZI_MSCI EM Asia USD",XIUSA000K0:"27_0P00001G39_MSCI EM Eastern Europe USD",FOUSA06FAM:"27_0P00008L6N_MSCI EM EMEA USD",XIUSA000JZ:"27_0P00001G38_MSCI EM Europe USD",XIUSA000JG:"27_0P00001G2P_MSCI EM Europe&Middle East USD",XIUSA000GB:"27_0P00001FZK_MSCI EM Far East USD",XIUSA000HP:"27_0P00001G0Y_MSCI EM Latin America USD",F00000GW7M:"27_0P0000NB35_MSCI EM Ex Asia PR USD",FOUSA06O6E:"27_0P0000A4JC_MSCI Jordan Egypt Morocco GR USD",FOUSA06V5B:"27_0P0000G79M_MSCI Frontier Markets USD",FOUSA06V5H:"27_0P0000G79Y_MSCI FM Africa USD",FOUSA09K80:"27_0P0000MXZH_MSCI FM Asia PR USD",FOUSA06V5N:"27_0P0000G7AA_MSCI FM Central&EasternEurope&CIS USD",FOUSA06V5T:"27_0P0000G7AM_MSCI FM EMEA USD",FOUSA09K86:"27_0P0000MXZN_MSCI FM Latin America &Caribbean PR USD",FOUSA06V5Z:"27_0P0000G7AY_MSCI FM Ex GCC USD",FOUSA09K8C:"27_0P0000MXZT_MSCI Frontier Emerging Market PR USD",XIUSA000CY:"27_0P00001FW7_MSCI Austria USD",XIUSA000DJ:"27_0P00001FWS_MSCI Belgium USD",XIUSA000D1:"27_0P00001FWA_MSCI Denmark USD",XIUSA000D2:"27_0P00001FWB_MSCI Finland USD",XIUSA000D3:"27_0P00001FWC_MSCI France USD",XIUSA000D4:"27_0P00001FWD_MSCI Germany USD",XIUSA000E7:"27_0P00001FXG_MSCI Greece USD",XIUSA000ND:"27_0P00001G6M_MSCI Ireland USD",XIUSA000D7:"27_0P00001FWG_MSCI Italy USD",XIUSA000DA:"27_0P00001FWJ_MSCI Netherlands USD",XIUSA000DC:"27_0P00001FWL_MSCI Norway USD",XIUSA000NQ:"27_0P00001G6Z_MSCI Portugal USD",XIUSA000DE:"27_0P00001FWN_MSCI Spain USD",XIUSA000DF:"27_0P00001FWO_MSCI Sweden USD",XIUSA000DG:"27_0P00001FWP_MSCI Switzerland USD",XIUSA000DH:"27_0P00001FWQ_MSCI UK USD",XIUSA000EK:"27_0P00001FXT_MSCI Europe USD",XIUSA000XQ:"27_0P00001GGS_MSCI EMU USD",XIUSA04F9T:"27_0P00001LKZ_MSCI Europe Ex EMU USD",XIUSA000H1:"27_0P00001G0A_MSCI Europe ex UK USD",XIUSA000GR:"27_0P00001G00_MSCI Nordic Countries USD",XIUSA000CX:"27_0P00001FW6_MSCI Australia USD",XIUSA000D5:"27_0P00001FWE_MSCI Hong Kong USD",XIUSA000D8:"27_0P00001FWH_MSCI Japan USD",XIUSA000DB:"27_0P00001FWK_MSCI New Zealand USD",XIUSA000DD:"27_0P00001FWM_MSCI Singapore USD",XIUSA000HO:"27_0P00001G0X_MSCI Pacific USD",XIUSA000GZ:"27_0P00001G08_MSCI Pacific ex Japan USD",XIUSA000CZ:"27_0P00001FW8_MSCI Canada USD",XIUSA000H3:"27_0P00001G0C_MSCI USA USD",XIUSA000GQ:"27_0P00001FZZ_MSCI North America USD",XIUSA000CV:"27_0P00001FW4_MSCI EAFE USD",XIUSA000GS:"27_0P00001G01_MSCI Far East USD",XIUSA000D6:"27_0P00001FWF_MSCI Israel USD",XIUSA000CW:"27_0P00001FW5_MSCI World USD",XIUSA000G2:"27_0P00001FZB_MSCI EASEA USD",XIUSA000GY:"27_0P00001G07_MSCI Kokusai (World Ex Japan) USD",XIUSA000H2:"27_0P00001G0B_MSCI Singapore Free USD",XIUSA000KF:"27_0P00001G3O_MSCI China USD",XIUSA000NC:"27_0P00001G6L_MSCI India USD",XIUSA000K9:"27_0P00001G3I_MSCI EM Indonesia PR USD",XIUSA000NH:"27_0P00001G6Q_MSCI Korea USD",XIUSA000K5:"27_0P00001G3E_MSCI Malaysia USD",XIUSA000NP:"27_0P00001G6Y_MSCI Philippines USD",XIUSA000NW:"27_0P00001G75_MSCI Taiwan USD",XIUSA000K7:"27_0P00001G3G_MSCI Thailand USD",XIUSA000G9:"27_0P00001FZI_MSCI EM Asia USD",XIUSA000GB:"27_0P00001FZK_MSCI EM Far East USD",XIUSA000MV:"27_0P00001G64_MSCI Brazil USD",XIUSA000MZ:"27_0P00001G68_MSCI Chile USD",XIUSA000D0:"27_0P00001FW9_MSCI Colombia USD",XIUSA000KD:"27_0P00001G3M_MSCI Mexico USD",XIUSA000GO:"27_0P00001FZX_MSCI Peru USD",XIUSA000HP:"27_0P00001G0Y_MSCI EM Latin America USD",XIUSA000IF:"27_0P00001G1O_MSCI Czech Republic USD",XIUSA000IG:"27_0P00001G1P_MSCI Hungary USD",XIUSA000JS:"27_0P00001G31_MSCI Poland USD",XIUSA000K3:"27_0P00001G3C_MSCI Russia USD",XIUSA000NY:"27_0P00001G77_MSCI Turkey USD",XIUSA000JG:"27_0P00001G2P_MSCI EM Europe&Middle East USD",XIUSA000JZ:"27_0P00001G38_MSCI EM Europe USD",XIUSA000K0:"27_0P00001G39_MSCI EM Eastern Europe USD",XIUSA000XO:"27_0P00001GGQ_MSCI Egypt USD",XIUSA000XW:"27_0P00001GGY_MSCI Morocco USD",XIUSA000JU:"27_0P00001G33_MSCI South Africa USD",XIUSA000G7:"27_0P00001FZG_MSCI EM USD",FOUSA063SQ:"27_0P00007PNG_MSCI EAFE&Canada Value USD",XIUSA04F2E:"27_0P00001LDK_MSCI EAFE Value USD",FOUSA063SW:"27_0P00007PNM_MSCI EAFE Ex UK Value USD",XIUSA04F2N:"27_0P00001LDT_MSCI EASEA Value USD",XIUSA04F6K:"27_0P00001LHQ_MSCI EMU Value USD",FOUSA05UR9:"27_0P00006Q9V_MSCI EM Europe&ME Growth USD",XIUSA04FBB:"27_0P00001LMH_MSCI Europe Value USD",XIUSA04FB2:"27_0P00001LM8_MSCI Europe Ex UK Value USD",FOUSA05USV:"27_0P00007YG9_MSCI Far East Value USD",XIUSA04FGQ:"27_0P00001LRW_MSCI Nordic Countries Value USD",XIUSA04FGZ:"27_0P00001LS5_MSCI North America Value USD",XIUSA04FI1:"27_0P00001LT7_MSCI Pacific Value USD",XIUSA04FHH:"27_0P00001LSN_MSCI Pacific Ex Japan Value USD",XIUSA04FK6:"27_0P00001LVC_MSCI World Value USD",FOUSA05UZT:"27_0P00006QK1_MSCI World Ex Australia Value USD",FOUSA05V05:"27_0P00006QKD_MSCI World Ex UK Value USD",FOUSA05V0B:"27_0P00006QKH_MSCI World Ex USA Value USD",XIUSA04F26:"27_0P00001LDC_MSCI EAFE Free Value USD",FOUSA05USR:"27_0P00006QCZ_MSCI Far East Free Value USD",XIUSA04FHT:"27_0P00001LSZ_MSCI Pacific Free Value USD",XIUSA04F0R:"27_0P00001LBX_MSCI Austria Value USD",XIUSA04F10:"27_0P00001LC6_MSCI Belgium Value USD",XIUSA04F1Y:"27_0P00001LD4_MSCI Denmark Value USD",XIUSA04FEB:"27_0P00001LPH_MSCI Finland Value USD",XIUSA04FEK:"27_0P00001LPQ_MSCI France Value USD",XIUSA04FEV:"27_0P00001LQ1_MSCI Germany Value USD",FOUSA06DKM:"27_0P00008JH1_MSCI Greece Value USD",XIUSA04FFN:"27_0P00001LQT_MSCI Italy Value USD",XIUSA04FGH:"27_0P00001LRN_MSCI Netherlands Value USD",XIUSA04FH8:"27_0P00001LSE_MSCI Norway Value USD",XIUSA04FIK:"27_0P00001LTQ_MSCI Portugal Value USD",XIUSA04FJ3:"27_0P00001LU9_MSCI Spain Value USD",XIUSA04FJE:"27_0P00001LUK_MSCI Sweden Value USD",XIUSA04FJN:"27_0P00001LUT_MSCI Switzerland Value USD",XIUSA04FKH:"27_0P00001LVN_MSCI UK Value USD",XIUSA04FBB:"27_0P00001LMH_MSCI Europe Value USD",XIUSA04F6K:"27_0P00001LHQ_MSCI EMU Value USD",XIUSA04FB2:"27_0P00001LM8_MSCI Europe Ex UK Value USD",XIUSA04FGQ:"27_0P00001LRW_MSCI Nordic Countries Value USD",XIUSA04F0I:"27_0P00001LBO_MSCI Australia Value USD",XIUSA04FF6:"27_0P00001LQC_MSCI Hong Kong Value USD",XIUSA04FFW:"27_0P00001LR2_MSCI Japan Value USD",FOUSA06DND:"27_0P00008JJS_MSCI New Zealand Value USD",FOUSA06DPB:"27_0P00008JLQ_MSCI Singapore Value USD",XIUSA04FI1:"27_0P00001LT7_MSCI Pacific Value USD",XIUSA04FHH:"27_0P00001LSN_MSCI Pacific Ex Japan Value USD",XIUSA04F1B:"27_0P00001LCH_MSCI Canada Value USD",XIUSA04FKQ:"27_0P00001LVW_MSCI USA Value USD",XIUSA04FGZ:"27_0P00001LS5_MSCI North America Value USD",XIUSA04F2E:"27_0P00001LDK_MSCI EAFE Value USD",FOUSA05USV:"27_0P00006QAF_MSCI Far East Value USD",FOUSA06DM2:"27_0P00008JIH_MSCI Israel Value USD",XIUSA04FK6:"27_0P00001LVC_MSCI World Value USD",XIUSA04F2N:"27_0P00001LDT_MSCI EASEA Value USD",FOUSA06DOV:"27_0P00008JLA_MSCI Singapore Free Value USD",XIUSA04F1L:"27_0P00001LCR_MSCI China Value USD",FOUSA06DL6:"27_0P00008JHL_MSCI India Value USD",FOUSA06DLC:"27_0P00008JHR_MSCI Indonesia Value USD",XIUSA04FG4:"27_0P00001LRA_MSCI Korea Value USD",FOUSA05RMW:"27_0P00006LYA_MSCI Malaysia Value NR USD",FOUSA06DO7:"27_0P00008JKM_MSCI Philippines Value USD",FOUSA06DQB:"27_0P00008JMQ_MSCI Taiwan Value USD",FOUSA06DQH:"27_0P00008JMW_MSCI Thailand Value USD",XIUSA04F33:"27_0P00001LE9_MSCI EM Asia Value USD",FOUSA05URF:"27_0P00006QAF_MSCI EM Far East Value USD",FOUSA06DFE:"27_0P00008JBT_MSCI Brazil Value USD",FOUSA06DFK:"27_0P00008JBZ_MSCI Chile Value USD",FOUSA06DFO:"27_0P00008JC3_MSCI Colombia Value USD",FOUSA06DMY:"27_0P00008JJD_MSCI Mexico Value USD",FOUSA06DO1:"27_0P00008JKG_MSCI Peru Value USD",XIUSA04F3P:"27_0P00001LEV_MSCI EM Latin America Value USD",FOUSA06DFU:"27_0P00008JC9_MSCI Czech Republic Value USD",FOUSA06DKY:"27_0P00008JHD_MSCI Hungary Value USD",FOUSA06DOD:"27_0P00008JKS_MSCI Poland Value USD",XIUSA04FIS:"27_0P00001LTY_MSCI Russia Value USD",FOUSA06DQN:"27_0P00008JN2_MSCI Turkey Value USD",XIUSA04F3D:"27_0P00001LEJ_MSCI EM Europe Value USD",FOUSA05UR7:"27_0P00006Q9P_MSCI EM Eastern Europe Value USD",FOUSA06F87:"27_0P00008L48_MSCI Egypt Value USD",FOUSA06F8D:"27_0P00008L4E_MSCI Morocco Value USD",FOUSA06DPN:"27_0P00008JM2_MSCI South Africa Value USD",XIUSA04F2V:"27_0P00001LE1_MSCI EM Value USD",FOUSA063SM:"27_0P00007ZAQ_MSCI EAFE&Canada Growth USD",XIUSA04F29:"27_0P00001LDF_MSCI EAFE Growth USD",FOUSA063SU:"27_0P00007PNK_MSCI EAFE Ex UK Growth USD",XIUSA04F2H:"27_0P00001LDN_MSCI EASEA Growth USD",XIUSA04F6D:"27_0P00001LHJ_MSCI EMU Growth USD",FOUSA05UR9:"27_0P00006Q9V_MSCI EM Europe&ME Growth USD",XIUSA04FB5:"27_0P00001LMB_MSCI Europe Growth USD",XIUSA04FAW:"27_0P00001LM2_MSCI Europe Ex UK Growth USD",FOUSA05UST:"27_0P00006QD1_MSCI Far East Growth USD",XIUSA04FGK:"27_0P00001LRQ_MSCI Nordic Countries Growth USD",XIUSA04FGT:"27_0P00001LRZ_MSCI North America Growth USD",XIUSA04FHV:"27_0P00001LT1_MSCI Pacific Growth USD",XIUSA04FHB:"27_0P00001LSH_MSCI Pacific Ex Japan Growth USD",XIUSA04FK0:"27_0P00001LV6_MSCI World Growth USD",FOUSA05UZQ:"27_0P00006QJY_MSCI World Ex Australia Growth USD",FOUSA05V01:"27_0P00006QK9_MSCI World Ex UK Growth USD",FOUSA05V07:"27_0P00006QKF_MSCI World Ex USA Growth USD",XIUSA04F23:"27_0P00001LD9_MSCI EAFE Free Growth USD",FOUSA05USP:"27_0P00006QCX_MSCI Far East Free Growth USD",XIUSA04FHQ:"27_0P00001LSW_MSCI Pacific Free Growth USD",XIUSA04FJU:"27_0P00001LV0_MSCI World Free Growth USD",XIUSA04F0L:"27_0P00001LBR_MSCI Austria Growth USD",XIUSA04F0U:"27_0P00001LC0_MSCI Belgium Growth USD",XIUSA04F1S:"27_0P00001LCY_MSCI Denmark Growth USD",XIUSA04FE5:"27_0P00001LPB_MSCI Finland Growth USD",XIUSA04FEE:"27_0P00001LPK_MSCI France Growth USD",XIUSA04FEP:"27_0P00001LPV_MSCI Germany Growth USD",FOUSA06DKI:"27_0P00008JGX_MSCI Greece Growth USD",FOUSA06DLE:"27_0P00008JHT_MSCI Ireland Growth USD",XIUSA04FFH:"27_0P00001LQN_MSCI Italy Growth USD",XIUSA04FGB:"27_0P00001LRH_MSCI Netherlands Growth USD",XIUSA04FH2:"27_0P00001LS8_MSCI Norway Growth USD",XIUSA04FID:"27_0P00001LTJ_MSCI Portugal Growth USD",XIUSA04FIX:"27_0P00001LU3_MSCI Spain Growth USD",XIUSA04FJ8:"27_0P00001LUE_MSCI Sweden Growth USD",XIUSA04FJH:"27_0P00001LUN_MSCI Switzerland Growth USD",XIUSA04FKB:"27_0P00001LVH_MSCI UK Growth USD",XIUSA04FB5:"27_0P00001LMB_MSCI Europe Growth USD",XIUSA04F6D:"27_0P00001LHJ_MSCI EMU Growth USD",XIUSA04FAW:"27_0P00001LM2_MSCI Europe Ex UK Growth USD",XIUSA04FGK:"27_0P00001LRQ_MSCI Nordic Countries Growth USD",XIUSA04F0C:"27_0P00001LBI_MSCI Australia Growth USD",XIUSA04FF0:"27_0P00001LQ6_MSCI Hong Kong Growth USD",XIUSA04FFQ:"27_0P00001LQW_MSCI Japan Growth USD",FOUSA06DN6:"27_0P00008JJL_MSCI New Zealand Growth USD",FOUSA06DP3:"27_0P00008JLI_MSCI Singapore Growth USD",XIUSA04FHV:"27_0P00001LT1_MSCI Pacific Growth USD",XIUSA04FHB:"27_0P00001LSH_MSCI Pacific Ex Japan Growth USD",XIUSA04F15:"27_0P00001LCB_MSCI Canada Growth USD",XIUSA04FKK:"27_0P00001LVQ_MSCI USA Growth USD",XIUSA04FGT:"27_0P00001LRZ_MSCI North America Growth USD",XIUSA00142:"27_0P00001GN4_MSCI EAFE Small Cap USD",FOUSA05UST:"27_0P00006QD1_MSCI Far East Growth USD",FOUSA06DLU:"27_0P00008JI9_MSCI Israel Growth USD",XIUSA04FK0:"27_0P00001LV6_MSCI World Growth USD",XIUSA04F2H:"27_0P00001LDN_MSCI EASEA Growth USD",FOUSA06DON:"27_0P00008JL2_MSCI Singapore Free Growth USD",XIUSA04F1H:"27_0P00001LCN_MSCI China Growth USD",FOUSA06DL2:"27_0P00008JHH_MSCI India Growth USD",FOUSA06DLA:"27_0P00008JHP_MSCI Indonesia Growth USD",XIUSA04FG0:"27_0P00001LR6_MSCI Korea Growth USD",FOUSA05RMQ:"27_0P00006LY4_MSCI Malaysia Growth NR USD",FOUSA06DO5:"27_0P00008JKK_MSCI Philippines Growth USD",FOUSA06DQ9:"27_0P00008JMO_MSCI Taiwan Growth USD",FOUSA06DQF:"27_0P00008JMU_MSCI Thailand Growth USD",XIUSA04F2Z:"27_0P00001LE5_MSCI EM Asia Growth USD",FOUSA05URD:"27_0P00006QA8_MSCI EM Far East Growth USD",FOUSA06DFC:"27_0P00008JBR_MSCI Brazil Growth USD",FOUSA06DFI:"27_0P00008JBX_MSCI Chile Growth USD",FOUSA06DFM:"27_0P00008JC1_MSCI Colombia Growth USD",FOUSA06DMU:"27_0P00008JJ9_MSCI Mexico Growth USD",FOUSA06DNX:"27_0P00008JKC_MSCI Peru Growth USD",XIUSA04F3L:"27_0P00001LER_MSCI EM Latin America Growth USD",FOUSA06DFQ:"27_0P00008JC5_MSCI Czech Republic Growth USD",FOUSA06DKU:"27_0P00008JH9_MSCI Hungary Growth USD",FOUSA06DO9:"27_0P00008JKO_MSCI Poland Growth USD",XIUSA04FIO:"27_0P00001LTU_MSCI Russia Growth USD",FOUSA06DQJ:"27_0P00008JMY_MSCI Turkey Growth USD",XIUSA04F39:"27_0P00001LEF_MSCI EM Europe Growth USD",FOUSA05UR5:"27_0P00006Q9J_MSCI EM Eastern Europe Growth USD",FOUSA06F8J:"27_0P00008L4K_MSCI Egypt Growth USD",FOUSA06F8P:"27_0P00008L4Q_MSCI Morocco Growth USD",FOUSA06DPJ:"27_0P00008JLY_MSCI South Africa Growth USD",XIUSA04F2R:"27_0P00001LDX_MSCI EM Growth USD",FOUSA08QT8:"27_0P0000JPY1_MSCI EAFE Mid PR USD",F00000HE7C:"27_0P0000NZL0_MSCI EMU Mid NR USD",F00000IT6K:"27_0P0000OPTT_MSCI Europe Mid Cap GR USD",F00000HFIU:"27_0P0000O0WK_MSCI North America Mid NR USD",FOUSA08N4T:"27_0P0000IQ03_MSCI World Mid USD",FOUSA063SO:"27_0P00007PNE_MSCI EAFE&Canada Small Cap USD",FOUSA063SS:"27_0P00007PNI_MSCI EAFE Ex UK Small Cap USD",XIUSA04F2K:"27_0P00001LDQ_MSCI EASEA Small Cap USD",XIUSA04F6H:"27_0P00001LHN_MSCI EMU Small Cap USD",XIUSA04FB8:"27_0P00001LME_MSCI Europe Small Cap USD",XIUSA04FAZ:"27_0P00001LM5_MSCI Europe Ex UK Small Cap USD",XIUSA04FE2:"27_0P00001LP8_MSCI Far East Small Cap USD",XIUSA04FGN:"27_0P00001LRT_MSCI Nordic Countries Small Cap USD",XIUSA04FGW:"27_0P00001LS2_MSCI North America Small Cap USD",XIUSA04FHY:"27_0P00001LT4_MSCI Pacific Small Cap USD",XIUSA04FHE:"27_0P00001LSK_MSCI Pacific Ex Japan Small Cap USD",XIUSA04FK3:"27_0P00001LV9_MSCI World Small Cap USD",FOUSA05V03:"27_0P00006QKB_MSCI World Ex UK Small Cap USD",XIUSA04GSF:"27_0P00001QLZ_MSCI World Ex USA Small Cap USD",XIUSA04F0X:"27_0P00001LC3_MSCI Belgium Small Cap USD",XIUSA04FES:"27_0P00001LPY_MSCI Germany Small Cap USD",FOUSA05S4J:"27_0P00006MFX_MSCI Greece Small Cap USD",FOUSA06E8D:"27_0P00008K4R_MSCI Ireland Small Cap USD",XIUSA04FFK:"27_0P00001LQQ_MSCI Italy Small Cap USD",XIUSA04FH5:"27_0P00001LSB_MSCI Norway Small Cap USD",XIUSA04FIH:"27_0P00001LTN_MSCI Portugal Small Cap USD",XIUSA04FJ0:"27_0P00001LU6_MSCI Spain Small Cap USD",XIUSA04FJ8:"27_0P00001LUE_MSCI Sweden Growth USD",XIUSA04FJK:"27_0P00001LUQ_MSCI Switzerland Small Cap USD",XIUSA04FKE:"27_0P00001LVK_MSCI UK Small Cap USD",XIUSA04FB8:"27_0P00001LME_MSCI Europe Small Cap USD",XIUSA04F6H:"27_0P00001LHN_MSCI EMU Small Cap USD",XIUSA04FAZ:"27_0P00001LM5_MSCI Europe Ex UK Small Cap USD",XIUSA04FGN:"27_0P00001LRT_MSCI Nordic Countries Small Cap USD",XIUSA04F0F:"27_0P00001LBL_MSCI Australia Small Cap USD",XIUSA04FF3:"27_0P00001LQ9_MSCI Hong Kong Small Cap USD",XIUSA04FFT:"27_0P00001LQZ_MSCI Japan Small Cap USD",FOUSA05S59:"27_0P00006MGN_MSCI New Zealand Small Cap USD",FOUSA05S5X:"27_0P00006MHB_MSCI Singapore Small Cap USD",XIUSA04FHY:"27_0P00001LT4_MSCI Pacific Small Cap USD",XIUSA04FHE:"27_0P00001LSK_MSCI Pacific Ex Japan Small Cap USD",XIUSA04F18:"27_0P00001LCE_MSCI Canada Small Cap USD",XIUSA04FKN:"27_0P00001LVT_MSCI USA Small Cap USD",XIUSA04FGW:"27_0P00001LS2_MSCI North America Small Cap USD",XIUSA00142:"27_0P00001GN4_MSCI EAFE Small Cap USD",XIUSA04FE2:"27_0P00001LP8_MSCI Far East Small Cap USD",XIUSA04FK3:"27_0P00001LV9_MSCI World Small Cap USD",XIUSA04F2K:"27_0P00001LDQ_MSCI EASEA Small Cap USD"};var tickerValidation=function(a){this.componentType=a;this.isOrderedLevelIIData=a==6?true:false;this.defaultBSubscribe=a==0||a==1||a==5||a==6||a==8||a==10||a==11||a==14||a==17||a==16?true:false;this.needSubscribePushData=this.defaultBSubscribe;this.cacheData=[];this.ErrorArray={"0P00001ISJ":["ASX","151"]};this.mapIndex={};this.needFilterSecurityType=true;this.subUSExchange=[41,11,9,30,29,33,22,25,56,50,10];this.showAlert=true};tickerValidation.prototype={checkTickers:function(b,d,s){this.getDataCallback=d;if(!b||!b.length||b.length<1){this.getDataCallback([],[])}else{var c=typeof(b)=="object"?b:b.split(","),v=false;var g=[],u=[],a=[];this.cacheData=[];this.mapIndex={};this.searchStr="";this.inuputS=c;if(typeof(s)!="undefined"){this.needSubscribePushData=s}else{this.needSubscribePushData=this.defaultBSubscribe}for(var r=0;r<c.length;r++){if(!c[r]&&c[r]==""){continue}c[r]=c[r];this.mapIndex[c[r]]=r;if(gIdMap[c[r]]){if(gData[gIdMap[c[r]]]&&gData[gIdMap[c[r]]]["checked"]){u.push(gIdMap[c[r]]);this.cacheData[r]=gIdMap[c[r]];continue}else{g.push(c[r])}}else{if(gData[c[r]]){if(gData[c[r]]["checked"]){u.push(c[r]);this.cacheData[r]=c[r];continue}else{g.push(c[r])}}else{if((c[r].indexOf("%")==0||c[r].indexOf("CU$$")==0||c[r].indexOf("245:")==0||c[r].indexOf("240:")==0)&&c[r].length>5){if(c[r].indexOf("%")==0){c[r]="245:"+c[r].replace("%","").replace("/","")+"FLIT"}else{if(c[r].indexOf("CU$$")==0){c[r]="245:"+c[r].replace("CU$$","").replace("/","")+"FLIT"}}this._storeForexData(c[r]);this.cacheData[r]=c[r];u.push(c[r]);continue}else{if(c[r].indexOf("/")==0){c[r]=c[r].replace("/","");this._storeFutureData(c[r]);this.cacheData[r]=c[r];u.push(c[r]);continue}else{if(c[r]=="0P00006K76"||c[r]=="FOUSA05PVR"){this._storeSpecialIPSAData("233:IPSA");this.cacheData[r]="233:IPSA";u.push("233:IPSA");continue}else{if(c[r]=="0P00006NNM"){this._storeSpecialIndexData("136:000001");this.cacheData[r]="136:000001";u.push("136:000001")}else{if(/^\d+:\d+:\S+$/.test(c[r])){var e=c[r].split(":"),m=e[0],o=e[1],h=e[2],l;v=h.indexOf("MSTATS_")>-1;if(!v&&m<126&&(o==1||o==10||o==8)){l=126+":"+h}else{l=m+":"+h}if(!gData[l]){gData[l]={}}gData[l].checked=true;gData[l].hasStaticData=true;gData[l].performanceId=c[r];gData[l]["noPID"]=true;gData[l].secId=c[r];gData[l].Name=h;gData[l].type=o;gData[l].mType=(o==7||o==8||o==11||o==16)?"Bond":o==13?"Spread":o==2?"Options":o==3?"FU":o==10?"XI":"ST";gData[l]["R/D"]="D";gData[l].ticker=h;gData[l].clientTicker=h;gData[l].tenforeTicker=h;gData[l].tenforeCode=m;gIdMap[c[r]]=l;this.cacheData[r]=l;u.push(l);continue}else{if(c[r].indexOf("@@@")==0){var l=c[r].replace("@@@","");this.cacheData[r]=l;u.push(l);continue}else{if(typeof(QS_MSICIndexs)!="undefined"&&QS_MSICIndexs[c[r]]){var k=QS_MSICIndexs[c[r]].split("_");var p=k[0]+":"+k[1];if(gData[p]&&gData[p].checked){u.push(p);this.cacheData[r]=p;continue}else{this._storeMSCIData(c[r],k);this.cacheData[r]=p;u.push(p)}}else{g.push(c[r])}}}}}}}}}}if(u.length>0){if(this.needSubscribePushData){var f=[],n=[];for(var q=0;q<u.length;q++){f=this.checkDataPermissionByKey(u[q]);if(f.length>0){n.push({gkey:u[q],paraList:f,isSubscribeLevelII:this.isOrderedLevelIIData})}}if(n.length>0){push.proxy.batchSubscribe(n)}}}if(g.length>0){this.getTickerInfo(g)}else{if(this.cacheData.length>0){for(var q=0;q<this.cacheData.length;q++){if(!this.cacheData[q]){this.cacheData.splice(q,1);q--}}}if(typeof(this.getDataCallback)=="function"){this._checkSecurityModulePermission()}}}},_checkSecurityModulePermission:function(a){var b=a||[];if(this.componentType<50&&typeof(QS_SMC)!="undefined"){if(this.cacheData.length&&QS_SMC.checkSecurityType(gData[this.cacheData[0]].mType,this.componentType)){this.getDataCallback(this.cacheData,b)}else{this.showAlert&&Util.message(QS_Lang.text?QS_Lang.text.notavail:"Data not available.");this.getDataCallback([],b)}}else{this.getDataCallback(this.cacheData,b)}},_storeSpecialIPSAData:function(b){var a=b.split(":");if(!gData[b]){gData[b]={}}gData[b].checked=true;gData[b].currency="CLP";gData[b].Domicile="CHL";gData[b].Region="CHL";gData[b].tenforeTicker=a[1];gData[b].tenforeCode=a[0];gData[b].ticker=a[1];gData[b].clientTicker=gData[b].ticker;gData[b].secId="FOUSA05PVR";gData[b].performanceId="0P00006K76";gData[b].type="10";gData[b]["Name"]="Bolsa De Santiago IPSA Chile";gData[b].mType="XI";gData[b]["R/D"]="D";gIdMap[gData[b].performanceId]=b;gIdMap[gData[b].secId]=b;gIdMap[b]=b},_storeSpecialIndexData:function(b){var a=b.split(":");if(!gData[b]){gData[b]={}}gData[b].checked=true;gData[b].currency="CNY";gData[b].Region="CHN";gData[b].tenforeTicker=a[1];gData[b].tenforeCode=a[0];gData[b].ticker=a[1];gData[b].clientTicker=gData[b].ticker;gData[b].secId="FOUSA05TC8";gData[b].performanceId="0P00006NNM";gData[b].type="10";gData[b]["Name"]="Shanghai SE Composite PR CNY";gData[b].mType="XI";gData[b]["R/D"]="D";gIdMap[gData[b].performanceId]=b;gIdMap[gData[b].secId]=b;gIdMap[b]=b},_storeForexData:function(b){var a=b.split(":");if(!gData[b]){gData[b]={}}gData[b].checked=true;gData[b].exch="FOREX";gData[b].tenforeTicker=a[1];gData[b].tenforeCode=a[0];gData[b].hasStaticData=true;gData[b].ticker=a[1].substring(0,3)+"/"+a[1].substring(3,6);gData[b].clientTicker=gData[b].ticker;gData[b].secId=b;gData[b].performanceId="CU$$"+(a[1].length>6?a[1].substr(0,6):a[1]);gData[b].type="20";gData[b]["Name"]=gData[b].ticker;gData[b].mType="FX";gData[b]["R/D"]="D";gIdMap[gData[b].performanceId]=b;gIdMap[b]=b},_storeFutureData:function(c){var b=c.split(":");var a=b[1].substring(0,b[1].length-2);if(!gData[c]){gData[c]={}}gData[c].checked=true;gData[c].exch=typeof QS_FuturesMap!="undefined"&&QS_FuturesMap[a]?QS_FuturesMap[a][1]:"";gData[c].Name=typeof QS_FuturesMap!="undefined"&&QS_FuturesMap[a]?QS_FuturesMap[a][0]:"";gData[c].tenforeTicker=b[1];gData[c].tenforeCode=b[0];gData[c].hasStaticData=true;gData[c].ticker=b[1].substring(0,b[1].length-2)+b[1].substring(b[1].length-1,b[1].length)+b[1].substring(b[1].length-2,b[1].length-1);gData[c].clientTicker=gData[c].ticker;gData[c].secId="/"+c;gData[c].performanceId="/"+c;gData[c].type="3";gData[c].mType="FU";gData[c]["R/D"]="D";gIdMap["/"+c]=c;gIdMap["/"+c]=c},_storeMSCIData:function(b,a){var c=a[0]+":"+a[1];if(!gData[c]){gData[c]={}}gData[c].checked=true;gData[c].performanceId=a[1];gData[c].secId=b;gData[c].Name=a[2];gData[c].type=10;gData[c].mType="XI";gData[c]["R/D"]="D";gData[c].ticker=b;gData[c].clientTicker=gData[c].ticker;gData[c].tenforeTicker=b;gData[c].tenforeCode=a[0];gIdMap[a[1]]=c;gIdMap[b]=c},getSubcribeParas:function(a,d,b,j,f,e,c){var h=d+push.subSeparator+e+push.subSeparator,k;for(var g=0;g<f.length;g++){if(typeof(f[g])=="undefined"||f[g]==""){continue}if(c&&f[g]=="-1"){continue}k=h+f[g];if(c){k=k+push.subSeparator+"NN"}a.push({sourceType:b,serviceName:j,itemName:k,isLevelII:c})}},getForexSubscribeParas:function(a){if(gData[a]){return{sourceType:"D",serviceName:245,itemName:"20"+push.subSeparator+a.split(":")[1]+push.subSeparator+"-1"}}else{return null}},getFutureSubscribeParas:function(a){if(gData[a]){return{sourceType:"D",serviceName:a.split(":")[0],itemName:"3"+push.subSeparator+a.split(":")[1]+push.subSeparator+"-1"}}else{return null}},getIIVSubscribeParas:function(b,a){if(gData[a]){var e=gData[a]["performanceId"]+"IIV";if(gIdMap[e]){var c=gData[gIdMap[e]],d="D",f=QS_Permission.getSubcodes(10,c.tenforeCode,c.tenforeTicker,"R",false);if(f.length){this.getSubcribeParas(b,10,"R",c.tenforeCode,f,c.tenforeTicker)}else{f=QS_Permission.getSubcodes(10,c.tenforeCode,c.tenforeTicker,"D",false);if(f.length){this.getSubcribeParas(b,10,"D",c.tenforeCode,f,c.tenforeTicker)}}}}},_getDataType:function(){var a=QS_DataType;if(typeof(a)=="undefined"||a=="bats"){a="mix"}if(typeof(PULL_DATA_RATE[QS_DataType])!="undefined"){a="mix"}return a},checkDataPermissionByKey:function(a,c){var b=typeof(c)=="undefined"?gData[a]:c;if(!b){return[]}return this.checkDataPermission(b.tenforeCode,b.tenforeTicker,b.type,b.country,b.mType)},checkDataPermission:function(j,d,k,b,f){var a=[];var g,m,e;var i=parseInt(k,10),c=d.indexOf("MSTATS_")>-1;e=QS_Permission.getSubcodes(i,j,d,"R");if(e.length){if(!c&&((i==1||i==10||i==8||i==2)&&j<=126&&$.inArray(parseInt(j,10),this.subUSExchange)<0)){g="126";if(i!=10){e=QS_Permission.getSubcodes(i,g,d,"R",false)}}else{g=j}if(this.isOrderedLevelIIData&&k==1){if(j<=126&&j!=50){this.getSubcribeParas(a,i,"R",g,e,d);this.getSubcribeParas(a,i,"R",14,QS_Permission.getSubcodes(i,14,d,"R"),d,true);this.getSubcribeParas(a,i,"R",19,QS_Permission.getSubcodes(i,19,d,"R"),d,true);this.getSubcribeParas(a,i,"R",1,QS_Permission.getSubcodes(i,1,d,"R"),d,true);this.getSubcribeParas(a,i,"R",34,QS_Permission.getSubcodes(i,34,d,"R"),d,true)}else{this.getSubcribeParas(a,i,"R",j,QS_Permission.getSubcodes(i,j,d,"R"),d,true)}}else{this.getSubcribeParas(a,i,"R",g,e,d)}}else{var l=this._getDataType();if(j>126||(l=="delay"||l=="mix")){g="";if(!c&&(i==1||i==10||i==8||i==2)&&j<=126&&$.inArray(parseInt(j,10),this.subUSExchange)<0){g="126"}else{g=j}e=QS_Permission.getSubcodes(i,g,d,"D",false);this.getSubcribeParas(a,i,"D",g,e,d)}if(j<=126&&j!=50&&(l=="bats"||l=="mix")&&(k==1)){this.getSubcribeParas(a,i,"R",17,QS_Permission.getSubcodes(i,17,d,"R",false),d)}}if(f=="FE"){var h=g+":"+d;this.getIIVSubscribeParas(a,h)}return a},getTickerInfo:function(b){this.searchStr=b.join(",");var a=this;checkTickerInfo(this.searchStr,function(c){a.onTickerInfoArrived(c)})},_fillSType:function(a){var b=a.TenforeInfo||[];if((typeof a.Type=="undefined"||a.Type=="")&&b.length>=3){if(b[2]=="1"){a.Type="ST"}else{if(b[2]=="10"){a.Type="XI"}else{if(b[2]=="2"){a.Type="Options"}}}}},onTickerInfoArrived:function(x){var q=[],p=[],t=[],e=[],b=[];var k=null;if(GOLBAL_DATA&&GOLBAL_DATA.InstitutionSecuritityTypePermission){k=GOLBAL_DATA.InstitutionSecuritityTypePermission[InstitutionId]}if((!x||!x.Records||x.Records.length<1)&&this.showAlert){var w=String.format(QS_Lang.text?QS_Lang.text.tickervalidationnotfound:'We could not find the security "{0}" you are looking for. Please try again.',this.searchStr);Util.message(w);this.searchStr=""}else{this.searchStr="";var B,z=x.Records.length;var c,m,l=null,y=[];var g;for(var h=0;h<z;h++){B=x.Records[h],l=[];if(this.ErrorArray[B.PID]){B.TenforeInfo=this.ErrorArray[B.PID]}c=B.TenforeInfo;this._fillSType(B);if(this.needFilterSecurityType&&k&&(!k[B.Type]||!k[B.Type])){if(SYMBLETYPE[B.Type]){b.push(SYMBLETYPE[B.Type])}else{if(B.Type&&B.Type!=""){b.push(B.Type)}}continue}if(c&&c.length>1){m=c[1]+":"+c[0];if((B.Type=="XI"||B.Type=="ST"||B.Type=="FE"||B.Type=="FC"||B.Type=="FO"||B.Type=="Options"||B.Type=="--"||B.Type=="")&&B.TenforeInfo[1]<=126){m="126:"+c[0]}l=this.checkDataPermissionByKey(m,{tenforeCode:c[1],tenforeTicker:c[0],type:toStockTypeCode(B.Type,c[1],c[2]),country:B.Region,mType:B.Type})}else{p.push(B.QueryKey);var n=$.trim(B.Ticker);c=[(n.length>0?n:B.PID),mockExchangeCode+(typeof(B.Type)!="undefined"?"_"+B.Type:"")];m=c[1]+":"+c[0];if((B.PID==""||B.PID==null)&&(B.SID==""||B.SID==null)){if(B.Ticker!=""){q.push(B.Ticker)}else{if(B.Name!=""){q.push(B.Name)}else{q.push(B.QueryKey)}}continue}}if(l.length<1&&c[1].indexOf(mockExchangeCode+"_")<0){g=gMICExangeMap[B.Exch]?gMICExangeMap[B.Exch]:B.Exch;var v=g+":"+B.Ticker;if(v=":"&&B.TenforeInfo&&B.TenforeInfo.length>0&&B.TenforeInfo[0]!=""){v=B.TenforeInfo[0]}t.push(v)}else{if(!gData[m]||!gData[m]["checked"]){if(!gData[m]){gData[m]={}}gData[m]["tenforeCode"]=c[1];gData[m]["tenforeTicker"]=c[0];if((B.PID==""||B.PID==null)&&(B.SID==""||B.SID==null)){gData[m]["noPID"]=true}gData[m]["checked"]=true;gData[m]["type"]=toStockTypeCode(B.Type,c[1],c[2]);gData[m]["mType"]=(B.Type=="--"||B.Type=="")?(gData[m]["type"]=="10"?"XI":gData[m]["type"]=="2"?"Options":"ST"):B.Type;gData[m]["performanceId"]=B.PID==""?m:B.PID;gData[m]["secId"]=B.SID==""?m:B.SID;gData[m]["exch"]=B.Exch;gData[m]["ticker"]=B.Ticker||c[0];gData[m]["clientTicker"]=B.ClientTicker||B.Ticker;gData[m]["country"]=B.Region;gData[m]["currency"]=B.Currency;gData[m]["companyId"]=B.CFID;gData[m]["ISIN"]=B.ISIN;gData[m]["Name"]=B.Name;gData[m]["clientSupport"]=B.Ext2=="no"?false:true;gData[m]["R/D"]="D";gData[m]["InitialDate"]=B.InitialDate?B.InitialDate:"";gData[m]["CUSIP"]=B.CUSIP?B.CUSIP:"";gData[m]["rootsymbol"]=B.RootSymbol||"";gData[m]["expirydate"]=B.ExpiredDate?formatDateString(B.ExpiredDate):"";gData[m]["strikeprice"]=B.StrikePrice||"";gData[m]["IT152"]=B.IT152?B.IT152:"";gData[m]["AA0F3"]=B.AA0F3?B.AA0F3:"";gData[m]["ST735"]=B.ST735?B.ST735:"";gIdMap[gData[m]["performanceId"]]=m;gIdMap[gData[m]["secId"]]=m;if(gData[m]["tenforeCode"]&&gData[m]["type"]&&gData[m]["tenforeTicker"]){var r=gData[m]["tenforeCode"]+"."+gData[m]["type"]+"."+gData[m]["tenforeTicker"];gIdMap[r]=m}if(B.FundData){gData[m]["IMA_RDate"]=B.FundData.IMA_RDate?B.FundData.IMA_RDate:"";gData[m]["MStar_RDate"]=B.FundData.MStar_RDate?B.FundData.MStar_RDate:""}if(B.Type=="FE"&&B.EtfData!=null&&B.EtfData.IIV&&B.EtfData.IIV.TenforeInfo!=null){var s=m.split(":")[0];var d=B.EtfData.IIV;var o=s+":"+d.TenforeInfo[0];if(!gData[o]){gData[o]={};gData[o]["checked"]=true;gData[o]["tenforeCode"]=s;gData[o]["tenforeTicker"]=d.TenforeInfo[0];gData[o]["mType"]="FE";gData[o]["type"]=toStockTypeCode(d.Type,s,d.TenforeInfo[2]);gData[o]["performanceId"]=B.PID+"IIV";gData[o]["secId"]=B.SID;gData[o]["exch"]=d.Exch;gData[o]["ticker"]=d.Ticker;gData[o]["clientTicker"]=d.Ticker;gData[o]["country"]=d.Region;gData[o]["Name"]=d.Name;gIdMap[gData[o]["performanceId"]]=o;gData[o]["gkey"]=o;if(gData[o]["tenforeCode"]&&gData[o]["type"]&&gData[o]["tenforeTicker"]){var u=gData[o]["tenforeCode"]+"."+gData[o]["type"]+"."+gData[o]["tenforeTicker"];gIdMap[u]=o}}this.getIIVSubscribeParas(l,m)}}if(this.mapIndex[B.QueryKey]>-1){this.cacheData[this.mapIndex[B.QueryKey]]=m}else{if(this.mapIndex[B.Exch+":"+B.QueryKey]>-1){this.cacheData[this.mapIndex[B.Exch+":"+B.QueryKey]]=m;if(gData[m]["performanceId"]==m){gData[m]["performanceId"]=B.Exch+":"+B.QueryKey;gIdMap[gData[m]["performanceId"]]=m}if(gData[m]["secId"]==m){gData[m]["secId"]=B.Exch+":"+B.QueryKey;gIdMap[gData[m]["secId"]]=m}}else{if(this.mapIndex[B.Exch+":"+B.Ticker]>-1){this.cacheData[this.mapIndex[B.Exch+":"+B.Ticker]]=m;if(gData[m]["performanceId"]==m){gData[m]["performanceId"]=B.Exch+":"+B.Ticker;gIdMap[gData[m]["performanceId"]]=m}if(gData[m]["secId"]==m){gData[m]["secId"]=B.Exch+":"+B.Ticker;gIdMap[gData[m]["secId"]]=m}}}}if(c[1].indexOf(mockExchangeCode+"_")<0){e.push({gkey:m,paraList:l,isSubscribeLevelII:this.isOrderedLevelIIData})}}}}var A=[];for(var h=0;h<this.inuputS.length;h++){if(!this.cacheData.length||this.cacheData.length<=h||!this.cacheData[h]){A.push(this.inuputS[h])}}if(this.cacheData.length>0){for(var f=0;f<this.cacheData.length;f++){if(!this.cacheData[f]){this.cacheData.splice(f,1);f--}}}if(push.proxy&&this.needSubscribePushData&&e.length>0){push.proxy.batchSubscribe(e)}var a;if(this.showAlert&&q.length>0){a=String.format(QS_Lang.text?QS_Lang.text.tickervalidationnotfound:'We could not find the security "{0}" you are looking for. Please try again.',q.join(", "));Util.message(a)}if(this.showAlert&&t.length>0){a=String.format(QS_Lang.text?QS_Lang.text.tickervalidationnopermission:'You are not entitled to access "{0}"',t.join(", "));Util.message(a)}if(this.showAlert&&this.needFilterSecurityType&&b.length>0){a=String.format(QS_Lang.text?QS_Lang.text.nosecurititytypepermission:'We are sorry, but you are not entitled to view the data for "{0}".',b.join(", "));Util.message(a)}if(typeof(this.getDataCallback)=="function"){this._checkSecurityModulePermission(A)}},subscribe:function(d){if(!d||!d.length){return}var e,b=[];for(var a=0;a<d.length;a++){e=gData[d[a]]?d[a]:gIdMap[d[a]];if(!gData[e]||gData[e]["unsubScribe"]===true){continue}var c=this.checkDataPermissionByKey(e);if(c.length==0){continue}b.push({gkey:d[a],paraList:c,isSubscribeLevelII:false})}push.proxy.batchSubscribe(b)},unSubscribe:function(e,b){var f,c=[],d;for(var a=0;a<e.length;a++){f=gData[e[a]]?e[a]:gIdMap[e[a]];if(!gData[f]||gData[f]["unsubScribe"]===true){continue}d=this.checkDataPermissionByKey(f);c.push({gkey:f,paraList:d,isSubscribeLevelII:this.isOrderedLevelIIData})}if(c.length>0){push.proxy.batchUnsubscribe(c,b)}}};if(!QS){var QS={}}if(typeof(GOLBAL_DATA)=="undefined"){GOLBAL_DATA={}}if(typeof(GOLBAL_DATA.showAfter)=="undefined"){GOLBAL_DATA.showAfter=1}if(!push){var push={}}if(!pull){var pull={}}if(!push.subSeparator){push.subSeparator="_"}if(!pull.subSeparator){pull.subSeparator="_"}QS.DataHandler=function(a){this.pause=false;this.connectionStatus=false;this.defaultModuleType="default";this.type=a;this._id=-1;this.widgets={};var b=function(h,g){if(!h.Date){if(g.Date&&g.Time){h.Date=g.Date.replace(/-/g,"");h.Time=g.Time}}};var e=function(m,n,i){var l,k,j,h;if(i=="20"){if(typeof m.BidPrice!="undefined"&&n.BidPrice!=n.LastPrice){m.LastPrice={value:n.BidPrice,oValue:n.LastPrice,dataType:"f"};n.LastPrice=n.BidPrice}if(typeof m.BidPrice!="undefined"||typeof m.ClosePrice!="undefined"){if(typeof n.ClosePrice!="undefined"&&typeof n.BidPrice!="undefined"){l=n.BidPrice-n.ClosePrice;j=l/n.ClosePrice*100;k=n.Chg;h=n["Chg%"];if(l!=k){n.Chg=l;n["Chg%"]=j}}}if(typeof m.BidPrice!="undefined"||typeof m.AskPrice!="undefined"){if(typeof n.BidPrice!="undefined"&&typeof n.AskPrice!="undefined"){var g=Math.abs(n.BidPrice-n.AskPrice);if(g!=n.Spread){m.Spread={value:g,oValue:n.Spread,dataType:"f"};n.Spread=g}}}}else{if(n.showAfter==1){if((typeof m.AfterTPrice!="undefined"||typeof m.LastPrice!="undefined")&&typeof n.LastPrice!="undefined"&&typeof n.AfterTPrice!="undefined"){l=n.AfterTPrice-n.LastPrice;j=l/n.LastPrice*100;k=n.AfterChg;h=n["AfterChg%"];if(l!=k){n.AfterChg=l;n["AfterChg%"]=j}}}else{if((typeof m.LastPrice!="undefined"||typeof m.ClosePrice!="undefined")&&typeof n.ClosePrice!="undefined"&&typeof n.LastPrice!="undefined"){l=n.LastPrice-n.ClosePrice;j=l/n.ClosePrice*100;k=n.Chg;h=n["Chg%"];if(l!=k){n.Chg=l;n["Chg%"]=j}}}}if(n.showAfter==1){if(typeof m.LastPrice!="undefined"){m.ClosePrice=m.LastPrice;delete m.LastPrice}else{delete m.ClosePrice}if(typeof m.AfterTPrice!="undefined"){m.LastPrice=m.AfterTPrice;m.LastPrice.isAfter=true;delete m.AfterTPrice}else{delete m.LastPrice}if(typeof m.AfterTTime!="undefined"){m.Time=m.AfterTTime;delete m.AfterTTime}else{delete m.Time}if(typeof m.AfterTDate!="undefined"){m.Date=m.AfterTDate;delete m.AfterTDate}else{delete m.Date}if(typeof m.AfterTxt!="undefined"&&m.AfterTxt.value=="After Hours"){m.ClosePrice={dataType:"f",value:n.LastPrice,isAfter:true}}}else{d(m)}if(l!=k){m.Chg={value:l,oValue:k,dataType:"f"};m["Chg%"]={value:j,oValue:h,dataType:"f"};m.Alert={value:true,oValue:false,dataType:"b"}}};var d=function(g){delete g.AfterTDate;delete g.AfterTTime;delete g.AfterTPrice};var f=function(g){delete g.TradeDate;delete g.TradeTime;delete g.LastPrice};var c=function(g,k,h,j){var i="";if(parseInt(h,10)>=gExchangeMarketTimeMap[g][1]*60+60){i="After Hours"}else{if(parseInt(h,10)<=gExchangeMarketTimeMap[g][0]*60){i="Pre-Market"}}if(i!=""){j.AfterTxt={value:i,oValue:gData[k]["AfterTxt"],dataType:"s"};gData[k]["AfterTxt"]=i}};this.updateChartWidget=function(j,h,k){var m=k.LastPrice,g=k.TradeDate,i=k.TradeTime,n=k.Volume;if(m>0||n>0){var l={LastPrice:{value:parseFloat(m,10),dataType:"f"},Volume:{value:parseInt(n,10),dataType:"i"}};if(g){l.TradeDate={value:formatDateString(g),dataType:"s"}}if(i){l.Time={value:parseInt(i,10),dataType:"i"}}if(k.LastMarket!=17&&!$.isEmptyObject(l)){if(typeof GB_ChartDataManager!="undefined"){GB_ChartDataManager.updateData(j,l)}}}};this.getMarketQuoteData=function(g,i){if(!gData[g]){return null}var j=gData[g],h={};if(typeof i!="undefined"&&!(i=="LastPrice"||i=="Chg"||i=="ClosePrice"||i=="Chg%"||i=="Time"||i=="Date"||i=="R/D")){return{value:j[i]}}if(j.showAfter==1){h.LastPrice={dataType:"f",value:j.AfterTPrice,isAfter:true};h.Chg={dataType:"f",value:j.AfterChg};h["Chg%"]={dataType:"f",value:j["AfterChg%"]};h.Time={dataType:"f",value:j.AfterTTime};h.Date={dataType:"f",value:j.AfterTDate};h.ClosePrice={dataType:"f",value:j.LastPrice}}else{h.LastPrice={dataType:"f",value:j.LastPrice};h.Chg={dataType:"f",value:j.Chg};h["Chg%"]={dataType:"f",value:j["Chg%"]};h.Time={dataType:"f",value:j.Time};h.Date={dataType:"f",value:j.Date};h.ClosePrice={dataType:"f",value:j.ClosePrice}}h.showAfter={dataType:"i",value:j.showAfter};h.AfterTxt={dataType:"s",value:j.AfterTxt};h["R/D"]={dataType:"s",value:j["R/D"]};return typeof i=="undefined"?h:h[i]};this.updateMarketPrice=function(M){var y=M.items;if(!y){return}var V={},u,g,E,H,q,L=false;for(var Q=0,x=y.length;Q<x;Q++){V.sourceType=y[Q].source;V.serviceName=y[Q].service;V.itemName=y[Q].symbol;V.dataType=V.sourceType;oExch=V.serviceName;if(this.type=="push"){u=V.itemName.split(push.subSeparator)}else{q=V.itemName.split(pull.subSeparator);if(q.length==3){u=q}else{if(q.length>3){u=[];u[0]=q[0];var B=[],s=q.length;for(var K=1;K<s-1;K++){B.push(q[K])}u[1]=B.join(pull.subSeparator);u[2]=q[s-1]}}}V.symbolType=u[0];V.itemName=u[1];V.subcode=u[2];L=V.itemName.indexOf("MSTATS_")>-1;if(!L&&V.serviceName<126&&(V.symbolType==1||V.symbolType==10||V.symbolType==8||V.symbolType==3)){V.serviceName="126"}H=y[Q].fields;g=V.serviceName+":"+V.itemName;if(!gData[g]){gData[g]={}}E={};var N=null,I=0,D=0,J=0,F=0,U=0,p=0;E["R/D"]=V.dataType;for(var P=0,A=H.length;P<A;P++){if(H[P].name=="ClosePrice"&&H[P].value==0){continue}E[H[P].name]=H[P].value||""}if(oExch=="17"){E.LastMarket="17";delete E.AfterTDate;delete E.AfterTTime;delete E.AfterTPrice}var r={};if(!L){if((typeof E.Date!="undefined"^typeof E.Time!="undefined")||(typeof E.TradeDate!="undefined"^typeof E.TradeTime!="undefined")||(typeof E.AfterTDate!="undefined"^typeof E.AfterTTime!="undefined")){continue}U=gData[g]["AfterTDate"]?parseInt((gData[g]["AfterTDate"].replace(/-/g,"")+gData[g]["AfterTTime"]),10):0;F=gData[g]["TradeDate"]?parseInt((gData[g]["TradeDate"].replace(/-/g,"")+gData[g]["TradeTime"]),10):0;p=gData[g]["Date"]?parseInt((gData[g]["Date"].replace(/-/g,"")+gData[g]["Time"]),10):0;if(gData[g]["country"]!="USA"||oExch==126||oExch>126||oExch==30||oExch==33||oExch==41||oExch==29){this.updateChartWidget(g,V.dataType,E)}var C=true;b(E,gData[g]);if(E.Date){J=parseInt((E.Date+E.Time),10);if(J>=p){if(E.AfterTDate&&E.TradeDate){I=parseInt((E.AfterTDate+E.AfterTTime),10);D=parseInt((E.TradeDate+E.TradeTime),10);var v,k,O=false;if(I>=U){v=I;O=true}else{v=U;d(E)}if(D>=F){k=D}else{k=F;f(E)}if(v>k){N=1;if(O){c(V.serviceName,g,E.AfterTTime,r)}}else{N=0}}else{if(E.TradeDate){D=parseInt((E.TradeDate+E.TradeTime),10);if(D>=F){if(D>U){N=0}else{N=1}}else{f(E)}}else{if(E.AfterTDate){I=parseInt((E.AfterTDate+E.AfterTTime),10);if(I>=U){if(I>F){N=1;c(V.serviceName,g,E.AfterTTime,r)}else{N=0}}else{d(E)}}}}}else{var G={};if(typeof E.ClosePrice!="undefined"){G.ClosePrice=E.ClosePrice}if(typeof E.LastPrice!="undefined"&&typeof gData[g]["LastPrice"]=="undefined"){var W=["LastVolume","TradeDate","TradeTime","Volume"];G.LastPrice=E.LastPrice;for(var P=0,T=W.length;P<T;P++){if(typeof E[W[P]]!="undefined"){G[W[P]]=E[W[P]]}}}if(!$.isEmptyObject(G)){E=G}else{C=false}}}if(!C){continue}if(V.symbolType!=20&&N!=null&&N!=gData[g]["showAfter"]){r.showAfter={value:N,oValue:gData[g]["showAfter"],dataType:"i"};gData[g]["showAfter"]=N}if(GOLBAL_DATA.showAfter==0){gData[g]["showAfter"]=0}}var h=false;for(var R in E){if(R=="TradeDate"){ty="s";E[R]=formatDateString(E[R])}else{if(R=="TradeTime"){ty="i";E[R]=parseInt(E[R],10)}else{if(R=="LastPrice"){var n=parseFloat(E[R],10);if(n<=0&&(V.serviceName=="77"||V.serviceName=="75")&&V.symbolType=="3"){h=true}E[R]=n;ty="f"}else{if(R=="Volume"){E[R]=parseFloat(E[R],10);ty="i";r.Alert={value:true,oValue:false,dataType:"b"}}else{if(R=="AskSize"||R=="BidSize"||R=="LastVolume"){E[R]=parseInt(E[R],10);ty="i"}else{if(R=="ClosePrice"){if(!h&&(V.serviceName=="77"||V.serviceName=="75")&&V.symbolType=="3"&&gData[g]["LastPrice"]<=0){h=true}E[R]=parseFloat(E[R],10);ty="f"}else{if(R=="MiddlePrice"||R=="AskPrice"||R=="BidPrice"||R=="HighPrice"||R=="LowPrice"||R=="VWAP"||R=="OpenPrice"||R=="AfterTPrice"||R=="D909"||R=="D910"||R=="D911"||R=="D912"||R=="D913"||R=="D914"||R=="D2161"||R=="D2162"||R=="D2163"){E[R]=parseFloat(E[R],10);ty="f"}else{if(R=="AfterTDate"||R=="Date"){ty="s";E[R]=formatDateString(E[R])}else{if(R=="Time"||R=="AfterTTime"){E[R]=parseInt(E[R],10);ty="i"}else{if(R=="Name"){continue}else{ty="s"}}}}}}}}}}if(E[R]!=gData[g][R]){r[R]={value:E[R],oValue:gData[g][R],dataType:ty};if(!h){gData[g][R]=E[R]}}}if(r.showAfter&&typeof r.Date=="undefined"&&typeof gData[g]["Date"]!="undefined"){r.Date={value:gData[g]["Date"],oValue:null,dataType:"s"}}if(h&&gData[g]["ClosePrice"]){if(gData[g]["ClosePrice"]!=gData[g]["LastPrice"]){r.LastPrice={value:gData[g]["ClosePrice"],oValue:gData[g]["LastPrice"],dataType:"f"};gData[g]["LastPrice"]=gData[g]["ClosePrice"]}else{delete r.LastPrice;gData[g]["LastPrice"]=gData[g]["ClosePrice"]}}e(r,gData[g],V.symbolType);if(!$.isEmptyObject(r)){var w=false;if(r.Alert){w=true;delete r.Alert}for(var z in this.widgets){if(z==1||z==2||z==3||z==4||z==7||z==9||z==12||z==15){continue}else{for(var S in this.widgets[z]){if(this.widgets[z].hasOwnProperty(S)){if(this.widgets[z][S].pause||typeof this.widgets[z][S].updateData!="function"){continue}this.widgets[z][S].updateData(g,r)}}}}if(w&&typeof updateWatchlistAlert=="function"){updateWatchlistAlert(g,false)}}}};this.getWidget=function(g,h){if(this.widgets[g]&&this.widgets[g][h.toString()]){return this.widgets[g][h.toString()]}else{return{}}};this.getAllRegistedWidgets=function(g){return this.widgets[g]};this.register=function(g){if(typeof g.type=="undefined"||g.type==null){g.type=this.defaultModuleType}if(typeof g.id=="undefined"||g.id==null){g.id=this._idServer(g.type.toString())}if(!this.widgets[g.type.toString()]){this.widgets[g.type.toString()]={}}this.widgets[g.type.toString()][g.id]=g};this.unregister=function(g){delete this.widgets[g.type.toString()][g.id]};this._idServer=function(g){var h=this._id--;return g+"_"+h}};QS.DataManager=function(a){this.TYPE={PUSH:"push",PULL:"pull"};this.pushCategory={delay:"Delay",mix:"Delay and BATS"};this.config={instid:"QS",server:"",sessionID:"",notDeleteInfoFromGData:true,type:this.TYPE.PUSH,rate:"fast"};this.dataObj=null;this.dataHandler=null;this.initConfig(a);this.isIE7=$.browser.msie&&$.browser.version=="7.0"};QS.DataManager.prototype={setDataMethod:function(c,b){c=c||"";c=c.toLowerCase();var a,d="";if(!isNaN(c)||c=="fast"||c=="slow"||c=="slower"||c=="slowest"){a=this.TYPE.PULL;d=c}else{a=this.TYPE.PUSH}this.config.type=a;if(d!=""){this.config.rate=d}if(typeof b!="undefined"&&b!=""){this.config.instid=b}this.connect()},initConfig:function(a){if(a){$.extend(this.config,a)}},connect:function(){this.reset();this.dataHandler=new QS.DataHandler(this.config.type);if(this.config.type==this.TYPE.PUSH){this._connectToPush()}else{this._connectToPull()}},_connectToPush:function(){var a=this;this.dataObj=new QS.Push(this.dataHandler,{onConnectedFailure:function(){if(a.isIE7){a.dataObj=null;a._connectToPull()}}});this.dataObj.initConnection(this.config.server,this.config.sessionID)},_connectToPull:function(){this.dataObj=new QS.Pull(this.dataHandler);this.dataObj.initConnection(this.config.rate,this.config.instid)},reset:function(){this.dataObj=null;this.dataHandler=null},batchSubscribe:function(c){if(!c||c.length==0){return}var m=[];var n;for(var g=0;g<c.length;g++){n=c[g].gkey;if(!n||!gData){continue}if(!gData[n]){gData[n]={}}if(c[g].optionType){gData[n]["optionType"]=c[g].optionType;gData[n]["type"]="2"}if(c[g].forexType){gData[n]["type"]=c[g].forexType}if(c[g].futureType){gData[n]["type"]=c[g].futureType}if(c[g].staticType){gData[n]["type"]=c[g].staticType}if(!gData[n]["subcribeNum"]){gData[n]["subcribeNum"]=0}if(!gData[n]["subcribeLevelIINum"]){gData[n]["subcribeLevelIINum"]=0}if(!gData[n]["unsubScribe"]){if(this.config.type==this.TYPE.PUSH){if(gData[n]["subcribeNum"]==0||(c[g].isSubscribeLevelII&&gData[n]["subcribeLevelIINum"]==0)){m=m.concat(c[g].paraList)}}else{var h=c[g].gkey.split(":"),f,e,l={},b=[];for(var d=0,k=c[g].paraList.length;d<k;d++){f=c[g].paraList[d].serviceName+"";if(typeof(mockExchangeCode)!="undefined"&&f.indexOf(mockExchangeCode+"_")>-1){continue}e=f+":"+gData[c[g].gkey].type+":"+h[1];if(!l[e]){l[e]=true;b.push(e)}}var a=b.join("}");gData[c[g].gkey]["pullTicker"]=a;m.push(a)}}gData[n]["subcribeNum"]++;if(c[g].isSubscribeLevelII){gData[n]["subcribeLevelIINum"]++}}this.dataObj.batchSubscribe(m)},batchUnsubscribe:function(d,c){if(typeof c=="undefined"){c=this.config.notDeleteInfoFromGData}if(!d||d.length==0){return}var e=[];for(var b=0;b<d.length;b++){gkey=d[b].gkey;if(!gData||!gData[gkey]){continue}if(gData[gkey]["subcribeNum"]){gData[gkey]["subcribeNum"]--}if(d[b].isSubscribeLevelII&&gData[gkey]["subcribeLevelIINum"]){gData[gkey]["subcribeLevelIINum"]--}if(gData[gkey]["subcribeNum"]==0&&(!gData[gkey]["subcribeLevelIINum"]||gData[gkey]["subcribeLevelIINum"]==0)){if(!gData[gkey]["unsubScribe"]){e=e.concat(d[b].paraList)}if(!c){delete gIdMap[gData[gkey]["performanceId"]];delete gData[gkey]}}else{if(!gData[gkey]["subcribeLevelIINum"]||gData[gkey]["subcribeLevelIINum"]==0){for(var a=0;a<d[b].paraList.length;a++){if(d[b].paraList[a]["isLevelII"]&&!gData[gkey]["unsubScribe"]){e.push(d[b].paraList[a])}}}}}this.dataObj.batchUnsubscribe(e)},getWatchlist:function(a){return this.dataHandler.getWidget("0",a)},getAllRegistedWatchlists:function(){return this.dataHandler.getAllRegistedWidgets("0")},getChart:function(a){return this.dataHandler.getWidget("1",a)},getAllRegistedCharts:function(){return this.dataHandler.getAllRegistedWidgets("1")},getNews:function(a){return this.dataHandler.getWidget("2",a)},getQuickTake:function(a){return this.dataHandler.getWidget("3",a)},getAllRegistedTickerTapes:function(){return this.dataHandler.getAllRegistedWidgets("5")},getL2MarketDepth:function(a){return this.dataHandler.getWidget("6",a)},getTimeSales:function(a){return this.dataHandler.getWidget("7",a)},getOptions:function(a){return this.dataHandler.getWidget("8",a)},getSR:function(a){return this.dataHandler.getWidget("9",a)},getQuotes:function(a){return this.dataHandler.getWidget("10",a)},getMarket:function(a){return this.dataHandler.getWidget("14",a)},register:function(a){this.dataHandler.register(a)},unregister:function(a){this.dataHandler.unregister(a)},getMarketQuoteData:function(a,b){return this.dataHandler.getMarketQuoteData(a,b)}};QS.Push=function(dataHandler,callback){var ConnectObj;var self=this;this.dataHandler=dataHandler;this.callback=callback;this.initConnection=function(host,usr){if(usr){ConnectObj=jslib.connectEntitlement(operationHandler,"connectEntitlement",host,usr,"256","1.1.1.1/net",updateHandler)}else{ConnectObj=jslib.connect(operationHandler,"connectClosure",host,updateHandler)}ConnectObj.addFields(operationHandler,"addFieldsClosure","ClosePrice","LastPrice","AskPrice","BidPrice","AskSize","BidSize","Time","TradeTime","Date","TradeDate","Volume","LastVolume","HighPrice","LowPrice","OpenPrice","AfterTPrice","AfterTTime","AfterTDate","401","402","404","405","407","409","-102","LastMarket","OpenInt","VWAP","MiddlePrice","MarketCentre","BidOrder_0","BidOrder_1","BidOrder_2","BidOrder_3","BidOrder_4","BidOrder_5","BidOrder_6","BidOrder_7","BidOrder_8","BidOrder_9","BidOrder_10","BidOrder_11","BidOrder_12","BidOrder_13","BidOrder_14","BidOrder_15","BidOrder_16","BidOrder_17","BidOrder_18","BidOrder_19","BidSize_0","BidSize_1","BidSize_2","BidSize_3","BidSize_4","BidSize_5","BidSize_6","BidSize_7","BidSize_8","BidSize_9","BidSize_10","BidSize_11","BidSize_12","BidSize_13","BidSize_14","BidSize_15","BidSize_16","BidSize_17","BidSize_18","BidSize_19","BidPrice_0","BidPrice_1","BidPrice_2","BidPrice_3","BidPrice_4","BidPrice_5","BidPrice_6","BidPrice_7","BidPrice_8","BidPrice_9","BidPrice_10","BidPrice_11","BidPrice_12","BidPrice_13","BidPrice_14","BidPrice_15","BidPrice_16","BidPrice_17","BidPrice_18","BidPrice_19","AskPrice_0","AskPrice_1","AskPrice_2","AskPrice_3","AskPrice_4","AskPrice_5","AskPrice_6","AskPrice_7","AskPrice_8","AskPrice_9","AskPrice_10","AskPrice_11","AskPrice_12","AskPrice_13","AskPrice_14","AskPrice_15","AskPrice_16","AskPrice_17","AskPrice_18","AskPrice_19","AskSize_0","AskSize_1","AskSize_2","AskSize_3","AskSize_4","AskSize_5","AskSize_6","AskSize_7","AskSize_8","AskSize_9","AskSize_10","AskSize_11","AskSize_12","AskSize_13","AskSize_14","AskSize_15","AskSize_16","AskSize_17","AskSize_18","AskSize_19","AskOrder_0","AskOrder_1","AskOrder_2","AskOrder_3","AskOrder_4","AskOrder_5","AskOrder_6","AskOrder_7","AskOrder_8","AskOrder_9","AskOrder_10","AskOrder_11","AskOrder_12","AskOrder_13","AskOrder_14","AskOrder_15","AskOrder_16","AskOrder_17","AskOrder_18","AskOrder_19","1900","1901","1902","1903","1904","256","257","258","259","260","261","262","263","264","265","266","267","268","269","270","271","272","273","274","275","276","277","278","279","280","281","282","283","284","285","286","287","288","289","290","291","292","293","294","295","296","297","298","299","300","301","302","303","304","305","306","307","308","309","310","311","312","313","314","315","316","317","318","319","320","321","322","323","324","325","326","327","328","329","330","331","332","333","334","335","336","337","338","349","340","341","342","343","344","345","346","347","348","349","1904","909","910","911","912","913","914","2161","2162","2163")};this.batchSubscribe=function(channels){var str='ConnectObj.subscribe(operationHandler, "subscribeClosure"';for(var j=0;j<channels.length;j++){chn=channels[j];str+=', "'+chn.sourceType+'", "'+chn.serviceName+'", "'+chn.itemName+'"';if((j+1)%50==0||j==channels.length-1){str+=")";eval(str);str='ConnectObj.subscribe(operationHandler, "subscribeClosure"'}}};this.batchUnsubscribe=function(channels){var str='ConnectObj.unsubscribe(operationHandler, "unsubscribeClosure"';for(var j=0;j<channels.length;j++){chn=channels[j];str+=', "'+chn.sourceType+'", "'+chn.serviceName+'", "'+chn.itemName+'"';if((j+1)%50==0||j==channels.length-1){str+=")";eval(str);str='ConnectObj.unsubscribe(operationHandler, "unsubscribeClosure"'}}};function operationHandler(closure,eventType,event,body){if(eventType==jslib.OPERATION_ERROR){var err;switch(event){case jslib.ERROR_CONNECTED:err="You are already connected";break;case jslib.ERROR_NOT_CONNECTED:err="You are not connected";break;case jslib.ERROR_TIMEOUT:err="Connection timeout";break;case jslib.ERROR_HTTP:err="HTTP status error. The HTTP status is: "+body;break;case jslib.ERROR_SERVER:err="Server side error: "+body;break;case jslib.ERROR_DOMAIN:err="Domain error.";break;case jslib.ERROR_SERVER_DOWN:err="Server down.";break}if(typeof self.callback.onConnectedFailure=="function"){self.callback.onConnectedFailure()}}else{if(eventType==jslib.OPERATION_OK){if(typeof self.callback.onConnectedSuccess=="function"){self.callback.onConnectedSuccess()}}}}function updateHandler(closure,eventType,event,body){if(eventType==jslib.STREAMING_ERROR){alert("Streaming error="+event+", body="+body)}else{if(eventType==jslib.MESSAGE_RECEIVED){switch(event){case jslib.MARKET_PRICE_UPDATE:updateMarketPrice(body);break;case jslib.STATUS_UPDATE:updateStatus(body);break}}}}function updateMarketPrice(body){self.dataHandler.updateMarketPrice(body)}function updateStatus(body){var msg="";var sourceType=body.source;var serviceName=body.service;var itemName=body.symbol;var itemState=body.state;var itemStatus=body.status;msg+=sourceType+"|"+serviceName+"|"+itemName+" is "+itemState+"|"+itemStatus+"\n";if(!this.pause){this.pause=true;setTimeout(function(){self.dataHandler.pause=false;alert(msg);msg=""},30000)}}};QS.Pull=function(dataHandler){this.instid="QS";this.dataHandler=dataHandler;this.rate={fast:5,slow:10,slower:15,slowest:30};this.intervalObj=null;this.batchQuerySize=30;this.timerObj=[];this.rateKey=null;this.initConnection=function(rateKey,instid){if(typeof instid!="undefined"&&instid!=""){this.instid=instid}this.rateKey=rateKey;this._createIntervalObj()};this._createIntervalObj=function(){if(this.intervalObj!=null){clearInterval(this.intervalObj)}var self=this;var intervalTimer=this.rate[this.rateKey]||this.rateKey;this.intervalObj=setInterval(function(){var count=0,arr=[],flag=false;self._clearTimer();for(var gKey in gData){flag=false;if(typeof gData[gKey].subcribeNum!="undefined"&&gData[gKey].subcribeNum>0){count++;if(!gData[gKey].pullTicker||gData[gKey].pullTicker==""){var gk=gKey.split(":");if(typeof(mockExchangeCode)!="undefined"&&gk[0].indexOf(mockExchangeCode+"_")>-1){continue}gData[gKey].pullTicker=gk[0]+":"+gData[gKey].type+":"+gk[1]}arr.push(gData[gKey].pullTicker)}if(count==self.batchQuerySize){with({temp:arr}){self.timerObj.push(setTimeout(function(){self._query(temp.join("}"))},100*self.timerObj.length))}flag=true;count=0;arr=[]}}if(!flag){self._query(arr.join("}"))}},intervalTimer*1000)};this._query=function(tickers){if(tickers==""){return false}var self=this;$.getJSON(PULL_Path+"getPullQuote.jsp?instid="+this.instid+"&query="+tickers+"&cb=?",function(o){if(typeof(o)=="undefined"||o.errorcode){return false}self.dataHandler.updateMarketPrice(o)})};this._clearTimer=function(){for(var i=0,l=this.timerObj.length;i<l;i++){this.timerObj[i]=null;clearTimeout(this.timerObj[i])}this.timerObj=[]};this.batchSubscribe=function(channels){var tickers;for(var i=0,l=channels.length;i<l;i+=this.batchQuerySize){tickers=channels.slice(i,i+this.batchQuerySize).join("}");this._query(tickers)}};this.batchUnsubscribe=function(channels){}};if(typeof GB_DataManager=="undefined"){GB_DataManager=new QS.DataManager({server:version.push,sessionID:"RKS2GDU2AJY99JZFBUYI1V6768470110_1"})}QS.setDataMethod=function(b,a){GB_DataManager.setDataMethod(b,a)};push.proxy=QS.Data=GB_DataManager;var t=560;push.test=function(a){window.setInterval(function(){if(gData){var p=push.proxy.dataHandler.widgets["1"];var l=push.proxy.dataHandler.widgets["0"];var e=push.proxy.dataHandler.widgets["5"];var q=push.proxy.dataHandler.widgets["6"];var b=push.proxy.dataHandler.widgets["7"];var m=push.proxy.dataHandler.widgets["8"];var g=push.proxy.dataHandler.widgets["10"];var f=push.proxy.dataHandler.widgets["default"];var o={};var k=parseInt(Math.random()*100+1);var j;t++;for(var r in gData){if(gData[r]["subcribeNum"]==0&&gData[r]["subcribeLevelIINum"]==0){continue}if(k%7==0){k++;continue}k++;var c=gData[r];gData[r]["showAfter"]=0;var h=r.split(":");var n={items:[{source:"R",service:h[0],symbol:c.type+"_"+h[1]+"_-1",fields:[{name:"AskPrice",value:(k%3==0)?Math.random():-Math.random()},{name:"AskSize",value:(k%3==0)?Math.random():-Math.random()},{name:"BidPrice",value:(k%3==0)?Math.random():-Math.random()},{name:"BidSize",value:(k%3==0)?Math.random():-Math.random()},{name:"ClosePrice",value:(k%3==0)?Math.random():-Math.random()},{name:"HighPrice",value:(k%3==0)?Math.random():-Math.random()},{name:"LastPrice",value:(k%3==0)?Math.random():-Math.random()},{name:"LastVolume",value:((k%3==0)?Math.random():-Math.random())*1000},{name:"LowPrice",value:(k%3==0)?Math.random():-Math.random()},{name:"MarketCentre",value:"0"},{name:"Volume",value:"41590665"}]}]};push.proxy.dataHandler.updateMarketPrice(n)}}},a||500)};